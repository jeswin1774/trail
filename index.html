<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>JB Venture | Construction & Architects – Thoothukudi</title>
<meta name="description" content="JB Venture – Premium construction and architecture in Thoothukudi, Tamil Nadu. 10+ years, 300 employees, 21+ active sites."/>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Playfair+Display:ital,wght@0,700;0,900;1,700&family=DM+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>

<!-- Firebase SDK -->
<script type="module">
  import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
  import { getAuth, GoogleAuthProvider, signInWithPopup, onAuthStateChanged, signOut } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js';
  import { getFirestore, collection, doc, setDoc, getDoc, getDocs, addDoc, deleteDoc, serverTimestamp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';

  const firebaseConfig = {
    apiKey: "AIzaSyApKcWUd9aqDrpVIm1oq3wzAsNP-8xKaD8",
    authDomain: "site-356cd.firebaseapp.com",
    databaseURL: "https://site-356cd-default-rtdb.asia-southeast1.firebasedatabase.app",
    projectId: "site-356cd",
    storageBucket: "site-356cd.firebasestorage.app",
    messagingSenderId: "1021929307309",
    appId: "1:1021929307309:web:37aaa3be1120723d311a24",
    measurementId: "G-DM0JYZK14X"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const db = getFirestore(app);

  // expose globally
  window._fb = { auth, db, GoogleAuthProvider, signInWithPopup, onAuthStateChanged, signOut, collection, doc, setDoc, getDoc, getDocs, addDoc, deleteDoc, serverTimestamp };
</script>

<style>
/* ══════ TOKENS ══════ */
:root{
  --black:#0a0a0a;
  --ash:#1a1a1a;
  --ash2:#252525;
  --ash3:#2e2e2e;
  --red:#c0392b;
  --red2:#e74c3c;
  --yellow:#f1c40f;
  --yellow2:#f39c12;
  --white:#ffffff;
  --off:#e8e8e8;
  --muted:#888;
  --border:rgba(255,255,255,0.08);
  --border-r:rgba(192,57,43,0.3);
  --r:0px;
  --shadow-r:0 8px 32px rgba(192,57,43,0.35);
  --shadow-y:0 8px 32px rgba(241,196,15,0.25);
}
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
html{scroll-behavior:smooth}
body{font-family:'DM Sans',sans-serif;background:var(--black);color:var(--off);overflow-x:hidden}
/* When sign-in page is visible, disable main scroll */
body:has(#signInPage:not(.hidden)){overflow:hidden}
a{text-decoration:none;color:inherit}
img{max-width:100%;display:block}
ul{list-style:none}

/* ══════ SCROLLBAR ══════ */
::-webkit-scrollbar{width:4px}
::-webkit-scrollbar-track{background:var(--ash)}
::-webkit-scrollbar-thumb{background:var(--red);border-radius:2px}

/* ══════ SCROLL PROGRESS ══════ */
#scrollBar{position:fixed;top:0;left:0;height:3px;background:linear-gradient(90deg,var(--red),var(--yellow));z-index:9999;width:0;transition:width .1s}

/* ══════ TOPBAR ══════ */
.topbar{background:var(--ash);color:rgba(255,255,255,.55);font-size:12px;padding:8px 5%;display:flex;justify-content:space-between;align-items:center;gap:10px;flex-wrap:wrap;border-bottom:1px solid var(--border)}
.topbar-l,.topbar-r{display:flex;align-items:center;gap:18px}
.topbar a{color:rgba(255,255,255,.55);transition:color .2s}
.topbar a:hover{color:var(--yellow)}
.topbar i{color:var(--red);margin-right:5px}

/* ══════ NAV ══════ */
#nav{position:sticky;top:0;z-index:1000;background:rgba(10,10,10,.95);backdrop-filter:blur(12px);border-bottom:1px solid var(--border);padding:0 5%;display:flex;align-items:center;justify-content:space-between;height:72px;transition:all .3s}
#nav.scrolled{box-shadow:0 4px 30px rgba(0,0,0,.5)}
.logo-wrap{display:flex;align-items:center;gap:14px}
.logo-symbol{width:44px;height:44px;position:relative}
.logo-symbol svg{width:100%;height:100%}
.logo-text{font-family:'Playfair Display',serif;font-size:22px;font-weight:900;color:var(--white);letter-spacing:1px;line-height:1}
.logo-text em{color:var(--red);font-style:normal}
.logo-sub{font-size:9px;letter-spacing:3px;text-transform:uppercase;color:var(--muted);font-family:'DM Sans',sans-serif}
.nav-menu{display:flex;align-items:center;gap:4px}
.nav-menu a{font-size:13px;font-weight:500;color:rgba(255,255,255,.7);padding:8px 14px;border-radius:3px;letter-spacing:.3px;transition:all .25s;position:relative}
.nav-menu a:hover,.nav-menu a.active{color:var(--yellow)}
.nav-cta{background:var(--red)!important;color:var(--white)!important;padding:9px 20px!important;border-radius:3px!important;font-weight:600!important;box-shadow:var(--shadow-r)}
.nav-cta:hover{background:var(--red2)!important;transform:translateY(-1px)}
.nav-user{display:flex;align-items:center;gap:10px}
.user-pill{display:flex;align-items:center;gap:8px;background:var(--ash2);border:1px solid var(--border);padding:6px 14px 6px 6px;border-radius:30px;cursor:pointer;transition:all .25s}
.user-pill:hover{border-color:var(--red)}
.user-av{width:30px;height:30px;border-radius:50%;background:linear-gradient(135deg,var(--red),var(--yellow));display:flex;align-items:center;justify-content:center;font-size:13px;font-weight:700;color:var(--white);overflow:hidden}
.user-av img{width:100%;height:100%;object-fit:cover;border-radius:50%}
.user-name{font-size:12px;font-weight:600;color:var(--white);max-width:100px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.btn-login{background:transparent;border:1.5px solid var(--red);color:var(--red);padding:8px 18px;border-radius:3px;font-size:13px;font-weight:600;cursor:pointer;transition:all .25s;font-family:'DM Sans',sans-serif}
.btn-login:hover{background:var(--red);color:var(--white)}
.hamburger{display:none;flex-direction:column;gap:5px;cursor:pointer;padding:6px;background:none;border:none}
.hamburger span{width:24px;height:2px;background:var(--white);display:block;transition:.3s;border-radius:2px}

/* ══════ MOBILE NAV ══════ */
.m-nav{position:fixed;inset:0;background:var(--ash);z-index:2000;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:28px;opacity:0;pointer-events:none;transition:opacity .3s}
.m-nav.on{opacity:1;pointer-events:all}
.m-nav a{font-family:'Playfair Display',serif;font-size:32px;color:rgba(255,255,255,.5);transition:color .25s}
.m-nav a:hover{color:var(--yellow)}
.m-nav-x{position:absolute;top:22px;right:22px;background:none;border:none;color:var(--red);font-size:28px;cursor:pointer}

/* ══════ HERO ══════ */
.hero{position:relative;height:100vh;min-height:640px;overflow:hidden}
.hero-bg{
  position:absolute;inset:0;
  background:
    linear-gradient(130deg,rgba(10,10,10,0.86) 35%,rgba(192,57,43,0.10) 65%,rgba(10,10,10,0.80) 100%),
    url('https://images.unsplash.com/photo-1486718448047-52ca7e4463f7?w=1600&q=80') center/cover no-repeat;
  transform:scale(1.04);
  animation:heroZoom 10s ease-out forwards;
  background-attachment:fixed;
}
@media(max-width:768px){
  .hero-bg{
    background:
      linear-gradient(135deg,rgba(10,10,10,0.88) 45%,rgba(192,57,43,0.08) 70%,rgba(10,10,10,0.84) 100%),
      url('https://images.unsplash.com/photo-1486718448047-52ca7e4463f7?w=900&q=80') center/cover no-repeat;
    background-attachment:scroll;
  }
}
@keyframes heroZoom{to{transform:scale(1)}}
.hero-grain{position:absolute;inset:0;opacity:.04;background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");z-index:1}
.hero-body{position:relative;z-index:2;height:100%;display:flex;flex-direction:column;justify-content:center;padding:0 8%;max-width:900px}
.hero-tag{display:inline-flex;align-items:center;gap:12px;color:var(--yellow);font-size:11px;font-weight:700;letter-spacing:4px;text-transform:uppercase;margin-bottom:22px;animation:fadeUp .8s .2s both}
.hero-tag::before{content:'';width:36px;height:2px;background:var(--yellow)}
.hero-tag::after{content:'';width:36px;height:2px;background:var(--yellow)}
.hero h1{font-family:'Bebas Neue',sans-serif;font-size:clamp(60px,10vw,130px);line-height:.92;color:var(--white);margin-bottom:24px;animation:fadeUp .8s .3s both;letter-spacing:2px}
.hero h1 em{color:var(--red);font-style:normal;-webkit-text-stroke:0px}
.hero h1 .outline{-webkit-text-stroke:2px rgba(255,255,255,0.4);color:transparent}
.hero-desc{font-size:17px;color:rgba(255,255,255,.6);line-height:1.8;margin-bottom:40px;max-width:520px;animation:fadeUp .8s .4s both}
.hero-btns{display:flex;gap:14px;flex-wrap:wrap;animation:fadeUp .8s .5s both}
.btn-primary{background:var(--red);color:var(--white);padding:16px 36px;border:none;cursor:pointer;font-family:'DM Sans',sans-serif;font-weight:700;font-size:14px;letter-spacing:.8px;border-radius:3px;display:inline-flex;align-items:center;gap:10px;box-shadow:var(--shadow-r);transition:all .3s;text-transform:uppercase}
.btn-primary:hover{background:var(--red2);transform:translateY(-2px);box-shadow:0 14px 40px rgba(192,57,43,0.5)}
.btn-outline{background:transparent;color:var(--white);padding:15px 36px;border:1.5px solid rgba(255,255,255,.35);cursor:pointer;font-family:'DM Sans',sans-serif;font-weight:500;font-size:14px;border-radius:3px;display:inline-flex;align-items:center;gap:10px;transition:all .3s;letter-spacing:.5px}
.btn-outline:hover{border-color:var(--yellow);color:var(--yellow)}

/* Hero stats bar */
.hero-stats{position:absolute;bottom:0;left:0;right:0;z-index:3;background:rgba(26,26,26,0.95);backdrop-filter:blur(10px);border-top:1px solid var(--border);display:grid;grid-template-columns:repeat(4,1fr)}
.hstat{padding:24px 28px;border-right:1px solid var(--border);display:flex;align-items:center;gap:14px}
.hstat:last-child{border-right:none}
.hstat-icon{width:44px;height:44px;min-width:44px;background:rgba(192,57,43,0.15);border:1px solid var(--border-r);border-radius:4px;display:flex;align-items:center;justify-content:center;font-size:18px;color:var(--red)}
.hstat-num{font-family:'Playfair Display',serif;font-size:26px;font-weight:700;color:var(--white);line-height:1}
.hstat-lbl{font-size:11px;color:var(--muted);text-transform:uppercase;letter-spacing:1.5px;margin-top:2px}
@keyframes fadeUp{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:none}}

/* ══════ SECTIONS COMMON ══════ */
section{padding:110px 5%}
.eyebrow{display:inline-flex;align-items:center;gap:10px;color:var(--red);font-size:11px;font-weight:700;letter-spacing:4px;text-transform:uppercase;margin-bottom:14px}
.eyebrow::before{content:'';width:28px;height:2px;background:var(--red)}
.sec-title{font-family:'Playfair Display',serif;font-size:clamp(30px,4vw,52px);font-weight:900;color:var(--white);line-height:1.1;margin-bottom:18px}
.sec-title em{color:var(--yellow);font-style:italic}
.sec-desc{font-size:15px;color:var(--muted);line-height:1.9;max-width:560px}
.red-rule{width:52px;height:3px;background:linear-gradient(90deg,var(--red),var(--yellow));margin:16px 0 24px}

/* Fade anim */
.fi,.fl,.fr{opacity:0;transition:opacity .7s ease,transform .7s ease}
.fi{transform:translateY(28px)}.fl{transform:translateX(-28px)}.fr{transform:translateX(28px)}
.fi.vis,.fl.vis,.fr.vis{opacity:1;transform:none}
.d1{transition-delay:.1s}.d2{transition-delay:.2s}.d3{transition-delay:.3s}.d4{transition-delay:.4s}.d5{transition-delay:.5s}

/* ══════ ABOUT ══════ */
.about-wrap{background:var(--ash)}
.about-grid{display:grid;grid-template-columns:1fr 1fr;gap:80px;align-items:center}
.about-img-stack{position:relative;height:520px}
.ai-main{position:absolute;top:0;left:0;width:68%;height:75%;object-fit:cover;border-radius:4px}
.ai-sub{position:absolute;bottom:0;right:0;width:56%;height:58%;object-fit:cover;border-radius:4px;border:4px solid var(--ash)}
.ai-badge{position:absolute;top:50%;left:54%;transform:translate(-50%,-50%);width:110px;height:110px;border-radius:50%;background:linear-gradient(135deg,var(--red),var(--yellow2));z-index:3;display:flex;flex-direction:column;align-items:center;justify-content:center;box-shadow:0 8px 30px rgba(192,57,43,.45)}
.ai-badge-num{font-family:'Playfair Display',serif;font-size:32px;font-weight:900;color:var(--white);line-height:1}
.ai-badge-txt{font-size:10px;font-weight:700;color:rgba(255,255,255,.8);letter-spacing:1.5px;text-transform:uppercase}
.about-text p{font-size:15.5px;color:var(--muted);line-height:1.85;margin-bottom:16px}
.stat-row{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-top:32px}
.stat-box{padding:20px;background:var(--ash2);border:1px solid var(--border);border-radius:4px;border-left:3px solid var(--red)}
.stat-box strong{font-family:'Playfair Display',serif;font-size:36px;color:var(--yellow);font-weight:700;display:block;line-height:1}
.stat-box span{font-size:12px;color:var(--muted);text-transform:uppercase;letter-spacing:1px;margin-top:4px;display:block}

/* ══════ SERVICES ══════ */
.services-wrap{background:var(--black)}
.svc-header{display:flex;justify-content:space-between;align-items:flex-end;margin-bottom:56px;flex-wrap:wrap;gap:20px}
.svc-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:1px;background:var(--border)}
.svc-card{background:var(--ash);padding:44px 36px;transition:all .4s;position:relative;overflow:hidden}
.svc-card::before{content:'';position:absolute;top:0;left:0;width:3px;height:0;background:linear-gradient(to bottom,var(--red),var(--yellow));transition:height .4s}
.svc-card:hover{background:var(--ash2)}
.svc-card:hover::before{height:100%}
.svc-icon{font-size:36px;color:var(--red);margin-bottom:22px;transition:transform .35s;display:block}
.svc-card:hover .svc-icon{transform:scale(1.12);color:var(--yellow)}
.svc-card h3{font-family:'Playfair Display',serif;font-size:20px;color:var(--white);margin-bottom:10px}
.svc-card p{font-size:14px;color:var(--muted);line-height:1.8}

/* ══════ PROJECTS ══════ */
.projects-wrap{background:var(--ash)}
.proj-header{display:flex;justify-content:space-between;align-items:flex-end;margin-bottom:52px;flex-wrap:wrap;gap:20px}
#projectsGrid{display:grid;grid-template-columns:repeat(3,1fr);gap:4px}
.proj-card{position:relative;overflow:hidden;cursor:pointer;height:280px}
.proj-card.big{grid-row:span 2;height:auto}
.proj-bg{width:100%;height:100%;background-size:cover;background-position:center;transition:transform .6s ease}
.pj1{background:linear-gradient(135deg,#1a0a0a,#3a1010),url('https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?w=600&q=70') center/cover}
.pj2{background:linear-gradient(135deg,#0a0a1a,#10103a),url('https://images.unsplash.com/photo-1486325212027-8081e485255e?w=600&q=70') center/cover}
.pj3{background:linear-gradient(135deg,#0a1a0a,#10301a),url('https://images.unsplash.com/photo-1564013799919-ab600027ffc6?w=600&q=70') center/cover}
.pj4{background:linear-gradient(135deg,#1a1a0a,#30300a),url('https://images.unsplash.com/photo-1572120360610-d971b9d7767c?w=600&q=70') center/cover}
.pj5{background:linear-gradient(135deg,#1a0a10,#30101a),url('https://images.unsplash.com/photo-1512917774080-9991f1c4c750?w=600&q=70') center/cover}
.proj-card:hover .proj-bg{transform:scale(1.08)}
.proj-overlay{position:absolute;inset:0;background:linear-gradient(to top,rgba(10,10,10,.95) 0%,rgba(10,10,10,.2) 60%,transparent 100%);display:flex;flex-direction:column;justify-content:flex-end;padding:28px;transform:translateY(24px);transition:transform .4s}
.proj-card:hover .proj-overlay{transform:translateY(0)}
.proj-cat{font-size:10px;letter-spacing:3px;color:var(--yellow);text-transform:uppercase;font-weight:700;margin-bottom:6px}
.proj-overlay h3{font-family:'Playfair Display',serif;font-size:20px;color:var(--white);margin-bottom:6px}
.proj-overlay p{font-size:13px;color:rgba(255,255,255,.5)}

/* ══════ PROCESS ══════ */
.process-wrap{background:var(--black);position:relative;overflow:hidden}
.process-wrap::before{content:'';position:absolute;top:-200px;right:-200px;width:600px;height:600px;border-radius:50%;background:radial-gradient(circle,rgba(192,57,43,0.06) 0%,transparent 70%)}
.process-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:1px;background:var(--border);margin-top:60px}
.proc-step{background:var(--ash);padding:44px 32px;position:relative;transition:background .3s}
.proc-step:hover{background:var(--ash2)}
.proc-num{font-family:'Bebas Neue',sans-serif;font-size:72px;color:rgba(192,57,43,0.12);line-height:1;margin-bottom:12px;transition:color .3s}
.proc-step:hover .proc-num{color:rgba(192,57,43,0.3)}
.proc-icon{width:52px;height:52px;background:rgba(192,57,43,0.12);border:1px solid var(--border-r);border-radius:4px;display:flex;align-items:center;justify-content:center;font-size:22px;color:var(--red);margin-bottom:20px}
.proc-step h4{font-size:17px;font-weight:700;color:var(--white);margin-bottom:10px}
.proc-step p{font-size:13.5px;color:var(--muted);line-height:1.75}

/* ══════ CTA BAND ══════ */
.cta-band{background:linear-gradient(110deg,var(--red) 0%,#8e1a0e 50%,#1a0a0a 100%);padding:90px 5%;display:flex;align-items:center;justify-content:space-between;gap:40px;flex-wrap:wrap;position:relative;overflow:hidden}
.cta-band::after{content:'';position:absolute;right:-100px;top:50%;transform:translateY(-50%);width:400px;height:400px;border-radius:50%;border:1px solid rgba(255,255,255,0.08)}
.cta-band h2{font-family:'Playfair Display',serif;font-size:clamp(28px,4vw,52px);color:var(--white);margin-bottom:12px;font-style:italic}
.cta-band p{color:rgba(255,255,255,.65);font-size:16px;max-width:480px}
.cta-btns{display:flex;gap:14px;flex-wrap:wrap;position:relative;z-index:1}
.btn-white{background:var(--white);color:var(--red);padding:16px 36px;border:none;cursor:pointer;font-weight:700;font-size:14px;letter-spacing:.5px;border-radius:3px;display:inline-flex;align-items:center;gap:10px;transition:all .3s;font-family:'DM Sans',sans-serif;text-transform:uppercase}
.btn-white:hover{background:var(--yellow);color:var(--black);transform:translateY(-2px)}

/* ══════ TESTIMONIALS ══════ */
.testi-wrap{background:var(--ash)}
.testi-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:1px;background:var(--border);margin-top:56px}
.testi-card{background:var(--ash2);padding:42px 36px;position:relative}
.testi-quote{position:absolute;top:20px;right:24px;font-family:'Playfair Display',serif;font-size:90px;color:rgba(192,57,43,0.1);line-height:1}
.testi-stars{color:var(--yellow);font-size:13px;letter-spacing:2px;margin-bottom:16px}
.testi-card p{font-size:14.5px;color:var(--muted);line-height:1.85;font-style:italic;margin-bottom:24px}
.testi-author{display:flex;align-items:center;gap:12px}
.testi-av{width:44px;height:44px;border-radius:50%;background:linear-gradient(135deg,var(--red),var(--yellow));display:flex;align-items:center;justify-content:center;font-family:'Playfair Display',serif;font-size:18px;font-weight:700;color:var(--white)}
.testi-name{font-weight:700;color:var(--white);font-size:14px}
.testi-loc{font-size:12px;color:var(--muted);margin-top:2px}

/* ══════ CONTACT ══════ */
.contact-wrap{background:var(--black)}
.contact-grid{display:grid;grid-template-columns:1fr 1fr;gap:80px;align-items:start}
.contact-info .c-item{display:flex;gap:16px;margin-bottom:28px;align-items:flex-start}
.c-icon{width:44px;height:44px;min-width:44px;background:rgba(192,57,43,.12);border:1px solid var(--border-r);border-radius:4px;display:flex;align-items:center;justify-content:center;font-size:18px;color:var(--red);margin-top:2px}
.c-item h5{font-size:13px;text-transform:uppercase;letter-spacing:1.5px;color:var(--muted);margin-bottom:4px}
.c-item p,.c-item a{font-size:15px;color:var(--white);transition:color .25s}
.c-item a:hover{color:var(--yellow)}
.contact-form{background:var(--ash);border:1px solid var(--border);padding:44px}
.form-row{display:grid;grid-template-columns:1fr 1fr;gap:16px}
.form-group{margin-bottom:16px}
.form-group label{display:block;font-size:12px;font-weight:600;text-transform:uppercase;letter-spacing:1.5px;color:var(--muted);margin-bottom:8px}
.form-group input,.form-group textarea,.form-group select{width:100%;padding:13px 16px;background:var(--ash2);border:1px solid var(--border);color:var(--white);font-family:'DM Sans',sans-serif;font-size:14px;outline:none;transition:border-color .25s;border-radius:3px}
.form-group input:focus,.form-group textarea:focus,.form-group select:focus{border-color:var(--red)}
.form-group textarea{height:110px;resize:vertical}
.form-group select option{background:var(--ash2)}

/* ══════ FOOTER ══════ */
footer{background:var(--ash);border-top:1px solid var(--border)}
.footer-grid{display:grid;grid-template-columns:1.6fr 1fr 1fr 1.2fr;gap:50px;padding:70px 5% 50px}
.f-brand .logo-text{font-size:26px;margin-bottom:4px}
.f-brand p{font-size:13.5px;color:rgba(255,255,255,.35);line-height:1.8;margin:16px 0 24px;max-width:280px}
.socials{display:flex;gap:10px}
.soc{width:36px;height:36px;border:1px solid var(--border);border-radius:3px;display:flex;align-items:center;justify-content:center;color:var(--muted);font-size:14px;transition:all .25s}
.soc:hover{background:var(--red);border-color:var(--red);color:var(--white)}
.f-col h4{font-size:12px;text-transform:uppercase;letter-spacing:2px;font-weight:700;color:var(--white);margin-bottom:22px;padding-bottom:12px;border-bottom:1px solid var(--border)}
.f-col ul li{margin-bottom:10px}
.f-col ul li a{font-size:13.5px;color:rgba(255,255,255,.4);transition:color .25s}
.f-col ul li a:hover{color:var(--yellow)}
.f-col ul li a i{margin-right:6px;font-size:10px;color:var(--red)}
.f-bottom{padding:20px 5%;border-top:1px solid var(--border);display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:12px;font-size:12.5px;color:rgba(255,255,255,.3)}
.f-bottom a{color:rgba(255,255,255,.3);transition:color .25s}
.f-bottom a:hover{color:var(--yellow)}
.nl-form{display:flex;gap:0;margin-top:12px}
.nl-form input{flex:1;padding:11px 14px;background:var(--ash2);border:1px solid var(--border);border-right:none;color:var(--white);font-size:13px;outline:none;border-radius:3px 0 0 3px;font-family:'DM Sans',sans-serif}
.nl-form button{background:var(--red);border:none;color:var(--white);padding:0 16px;cursor:pointer;font-size:14px;border-radius:0 3px 3px 0;transition:background .25s}
.nl-form button:hover{background:var(--red2)}

/* ══════ FLOAT ══════ */
.float-hub{position:fixed;bottom:28px;right:28px;z-index:900;display:flex;flex-direction:column;align-items:flex-end;gap:10px}
.float-items{display:flex;flex-direction:column;gap:8px;align-items:flex-end;opacity:0;pointer-events:none;transform:translateY(12px);transition:all .3s}
.float-items.on{opacity:1;pointer-events:all;transform:none}
.fi-btn{display:inline-flex;align-items:center;gap:8px;padding:10px 16px;border-radius:30px;font-size:13px;font-weight:600;white-space:nowrap;box-shadow:0 4px 20px rgba(0,0,0,.4)}
.fi-call2{background:var(--red);color:var(--white)}
.fi-wa2{background:#25d366;color:var(--white)}
.float-tog{width:52px;height:52px;border-radius:50%;background:var(--red);border:none;color:var(--white);font-size:18px;cursor:pointer;box-shadow:var(--shadow-r);transition:all .3s;display:flex;align-items:center;justify-content:center}
.float-tog.on{transform:rotate(45deg);background:var(--ash)}
.wa-quick{position:fixed;bottom:28px;left:28px;z-index:900;width:52px;height:52px;border-radius:50%;background:#25d366;display:flex;align-items:center;justify-content:center;font-size:24px;color:var(--white);box-shadow:0 4px 20px rgba(37,211,102,.35)}
.btt{position:fixed;bottom:90px;right:28px;z-index:900;width:44px;height:44px;border-radius:3px;background:var(--ash2);border:1px solid var(--border);color:var(--white);font-size:14px;cursor:pointer;opacity:0;pointer-events:none;transition:all .3s;display:flex;align-items:center;justify-content:center}
.btt.show{opacity:1;pointer-events:all}
.btt:hover{background:var(--red);border-color:var(--red)}

/* ══════════════════════════════════
   AUTH OVERLAY / MODAL
══════════════════════════════════ */
.overlay{position:fixed;inset:0;background:rgba(0,0,0,.75);z-index:3000;display:flex;align-items:center;justify-content:center;opacity:0;pointer-events:none;transition:opacity .3s;backdrop-filter:blur(6px)}
.overlay.on{opacity:1;pointer-events:all}
.modal{background:var(--ash);border:1px solid var(--border);max-width:440px;width:90%;border-radius:6px;overflow:hidden;transform:scale(.96);transition:transform .3s}
.overlay.on .modal{transform:scale(1)}
.modal-head{background:var(--ash2);padding:28px 32px;border-bottom:1px solid var(--border);display:flex;justify-content:space-between;align-items:center}
.modal-head h2{font-family:'Playfair Display',serif;font-size:22px;color:var(--white)}
.modal-close{background:none;border:none;color:var(--muted);font-size:20px;cursor:pointer;transition:color .25s}
.modal-close:hover{color:var(--red)}
.modal-body{padding:36px 32px}
.modal-logo{text-align:center;margin-bottom:28px}
.auth-btn{width:100%;padding:14px;border-radius:4px;border:1px solid var(--border);background:var(--ash2);color:var(--white);font-family:'DM Sans',sans-serif;font-size:14px;font-weight:600;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:12px;margin-bottom:12px;transition:all .25s}
.auth-btn:hover{border-color:var(--red);background:rgba(192,57,43,.1)}
.auth-btn img{width:20px;height:20px;object-fit:contain}
.auth-divider{text-align:center;color:var(--muted);font-size:12px;letter-spacing:2px;margin:16px 0;position:relative}
.auth-divider::before,.auth-divider::after{content:'';position:absolute;top:50%;width:38%;height:1px;background:var(--border)}
.auth-divider::before{left:0}.auth-divider::after{right:0}
.phone-row{display:flex;gap:8px}
.phone-select{padding:12px;background:var(--ash2);border:1px solid var(--border);color:var(--white);border-radius:3px;font-size:14px;outline:none;font-family:'DM Sans',sans-serif;min-width:90px}
.phone-input{flex:1;padding:12px 14px;background:var(--ash2);border:1px solid var(--border);color:var(--white);border-radius:3px;font-size:14px;outline:none;font-family:'DM Sans',sans-serif}
.phone-input:focus{border-color:var(--red)}
.modal-note{font-size:12px;color:var(--muted);text-align:center;margin-top:16px;line-height:1.6}

/* Phone collection (after Google login) */
.phone-collect-modal{display:none}

/* ══════════════════════════════════
   ADMIN PORTAL
══════════════════════════════════ */
#adminLink{display:none;color:rgba(255,255,255,.5);font-size:12px;padding:6px 12px;border:1px solid var(--border);border-radius:3px;transition:all .25s;letter-spacing:.5px}
#adminLink:hover{border-color:var(--red);color:var(--red)}

.admin-wrap{display:none;position:fixed;inset:0;z-index:11000;background:var(--black);flex-direction:column}
.admin-wrap.on{display:flex}
#adminDashboard.shown{display:flex!important;flex:1;flex-direction:column;overflow:hidden;overflow-y:auto}
.admin-topbar{background:var(--ash);border-bottom:1px solid var(--border);padding:0 24px;height:60px;display:flex;align-items:center;justify-content:space-between;flex-shrink:0}
.admin-topbar .logo-text{font-size:18px}
.admin-topbar-r{display:flex;align-items:center;gap:12px}
.admin-body{display:flex;flex:1;overflow:hidden}
.admin-sidebar{width:240px;min-width:240px;background:var(--ash);border-right:1px solid var(--border);padding:24px 0;overflow-y:auto}
.admin-nav-item{display:flex;align-items:center;gap:10px;padding:13px 24px;color:rgba(255,255,255,.5);font-size:13.5px;font-weight:500;cursor:pointer;transition:all .25s;border-left:3px solid transparent}
.admin-nav-item:hover{color:var(--white);background:rgba(255,255,255,.04)}
.admin-nav-item.active{color:var(--yellow);border-left-color:var(--red);background:rgba(192,57,43,.08)}
.admin-nav-item i{font-size:15px;width:18px;text-align:center}
.admin-content{flex:1;overflow-y:auto;padding:32px}
.admin-panel{display:none}
.admin-panel.active{display:block}
.panel-title{font-family:'Playfair Display',serif;font-size:26px;color:var(--white);margin-bottom:6px}
.panel-sub{font-size:13.5px;color:var(--muted);margin-bottom:32px}
.admin-card{background:var(--ash);border:1px solid var(--border);border-radius:4px;overflow:hidden;margin-bottom:24px}
.admin-card-head{padding:18px 24px;border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between;background:var(--ash2)}
.admin-card-head h4{font-size:14px;font-weight:600;color:var(--white);letter-spacing:.5px}
.admin-card-body{padding:24px}
.stats-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:16px;margin-bottom:32px}
.stat-card{background:var(--ash);border:1px solid var(--border);padding:22px;border-radius:4px;position:relative;overflow:hidden}
.stat-card::after{content:'';position:absolute;top:0;left:0;width:3px;height:100%;background:linear-gradient(to bottom,var(--red),var(--yellow))}
.stat-card .val{font-family:'Playfair Display',serif;font-size:32px;color:var(--white);font-weight:700;line-height:1;margin-bottom:4px}
.stat-card .lbl{font-size:12px;color:var(--muted);text-transform:uppercase;letter-spacing:1px}
.stat-card i{position:absolute;right:18px;top:50%;transform:translateY(-50%);font-size:28px;color:rgba(192,57,43,0.15)}

/* Project upload form */
.upload-zone{border:2px dashed var(--border);border-radius:4px;padding:40px;text-align:center;cursor:pointer;transition:border-color .25s;background:var(--ash2)}
.upload-zone:hover{border-color:var(--red)}
.upload-zone i{font-size:36px;color:var(--muted);margin-bottom:12px;display:block}
.upload-zone p{font-size:14px;color:var(--muted)}
.a-form-group{margin-bottom:16px}
.a-form-group label{display:block;font-size:11px;font-weight:700;text-transform:uppercase;letter-spacing:1.5px;color:var(--muted);margin-bottom:8px}
.a-form-group input,.a-form-group textarea,.a-form-group select{width:100%;padding:12px 14px;background:var(--ash2);border:1px solid var(--border);color:var(--white);font-family:'DM Sans',sans-serif;font-size:14px;outline:none;transition:border-color .25s;border-radius:3px}
.a-form-group input:focus,.a-form-group textarea:focus{border-color:var(--red)}
.a-form-group textarea{height:100px;resize:vertical}
.btn-admin{padding:11px 24px;border:none;border-radius:3px;font-family:'DM Sans',sans-serif;font-weight:700;font-size:13px;cursor:pointer;transition:all .25s;display:inline-flex;align-items:center;gap:8px;text-transform:uppercase;letter-spacing:.5px}
.btn-red{background:var(--red);color:var(--white)}
.btn-red:hover{background:var(--red2)}
.btn-ash{background:var(--ash2);color:var(--white);border:1px solid var(--border)}
.btn-ash:hover{background:var(--ash3)}
.btn-yellow{background:var(--yellow2);color:var(--black)}
.btn-yellow:hover{background:var(--yellow)}

/* project table */
.proj-table{width:100%;border-collapse:collapse;font-size:13.5px}
.proj-table th{padding:12px 14px;text-align:left;font-size:11px;text-transform:uppercase;letter-spacing:1.5px;color:var(--muted);border-bottom:1px solid var(--border);font-weight:600}
.proj-table td{padding:12px 14px;border-bottom:1px solid rgba(255,255,255,.04);color:rgba(255,255,255,.7);vertical-align:middle}
.proj-table tr:hover td{background:rgba(255,255,255,.02)}
.proj-thumb{width:48px;height:36px;object-fit:cover;border-radius:3px}
.badge{display:inline-block;padding:3px 10px;border-radius:20px;font-size:11px;font-weight:700;text-transform:uppercase;letter-spacing:.5px}
.badge-green{background:rgba(46,213,115,.12);color:#2ed573;border:1px solid rgba(46,213,115,.2)}
.badge-yellow{background:rgba(241,196,15,.12);color:var(--yellow);border:1px solid rgba(241,196,15,.2)}

/* Users table */
.user-table{width:100%;border-collapse:collapse;font-size:13.5px}
.user-table th{padding:12px 14px;text-align:left;font-size:11px;text-transform:uppercase;letter-spacing:1.5px;color:var(--muted);border-bottom:1px solid var(--border)}
.user-table td{padding:12px 14px;border-bottom:1px solid rgba(255,255,255,.04);color:rgba(255,255,255,.7)}

/* Admin login */
.admin-login{display:flex;align-items:center;justify-content:center;height:100%;background:var(--black)}
.admin-login-box{background:var(--ash);border:1px solid var(--border);padding:48px;max-width:380px;width:90%;border-radius:6px}
.admin-login-box h2{font-family:'Playfair Display',serif;font-size:26px;color:var(--white);margin-bottom:6px}
.admin-login-box p{font-size:13px;color:var(--muted);margin-bottom:32px}
.admin-error{background:rgba(192,57,43,.12);border:1px solid var(--border-r);color:#e74c3c;padding:10px 14px;border-radius:3px;font-size:13px;margin-bottom:16px;display:none}

/* Notification toast */
.toast{position:fixed;bottom:100px;left:50%;transform:translateX(-50%) translateY(20px);background:var(--ash2);border:1px solid var(--border);color:var(--white);padding:12px 24px;border-radius:30px;font-size:13.5px;z-index:9999;opacity:0;transition:all .35s;white-space:nowrap}
.toast.on{opacity:1;transform:translateX(-50%) translateY(0)}

/* Responsive */
@media(max-width:960px){
  .hero h1{font-size:clamp(50px,12vw,90px)}
  .hero-stats{display:grid;grid-template-columns:1fr 1fr}
  .about-grid,.contact-grid{grid-template-columns:1fr;gap:40px}
  .about-img-stack{height:360px}
  .svc-grid{grid-template-columns:1fr 1fr}
  .process-grid{grid-template-columns:1fr 1fr}
  .testi-grid{grid-template-columns:1fr}
  .footer-grid{grid-template-columns:1fr 1fr;gap:30px}
  .stats-grid{grid-template-columns:1fr 1fr}
  .admin-sidebar{width:60px;min-width:60px}
  .admin-nav-item span{display:none}
  .admin-nav-item{padding:16px;justify-content:center}
  .admin-nav-item i{width:auto;font-size:18px}
}
@media(max-width:640px){
  .nav-menu{display:none}
  .hamburger{display:flex}
  .hero-stats{grid-template-columns:1fr 1fr;font-size:12px}
  .svc-grid{grid-template-columns:1fr}
  .process-grid{grid-template-columns:1fr}
  #projectsGrid{grid-template-columns:1fr 1fr}
  .proj-card.big{grid-row:span 1;height:280px}
  .footer-grid{grid-template-columns:1fr}
  .stats-grid{grid-template-columns:1fr 1fr}
  .cta-btns{flex-direction:column}
}

/* Image in hero more natural */
.hero-img-overlay{
  position:absolute;right:0;bottom:80px;z-index:2;
  width:42%;max-width:580px;
  -webkit-mask-image:linear-gradient(to left,black 55%,transparent 100%);
  mask-image:linear-gradient(to left,black 55%,transparent 100%);
  pointer-events:none;
  animation:fadeUp .9s .6s both;
}
@media(max-width:960px){.hero-img-overlay{display:none}}
@media(max-width:768px){
  .hero{
    padding-top:60px;
    min-height:600px;
  }
  .hero-body{
    padding:0 20px;
    max-width:100%;
  }
  .hero h1{
    font-size:clamp(40px,8vw,80px);
    margin-bottom:16px;
  }
  .hero-desc{
    font-size:15px;
    margin-bottom:28px;
  }
  .hero-btns{
    flex-direction:column;
    gap:12px;
  }
  .hero-btns a{
    width:100%;
    text-align:center;
    padding:14px 24px;
  }
  .hero-stats{
    grid-template-columns:repeat(2,1fr);
  }
  .hstat{
    padding:16px 14px;
    flex-direction:column;
    text-align:center;
    gap:8px;
  }
  .hstat-icon{
    margin:0 auto;
  }
}

/* ══════════════════════════════════════════════
   MOBILE HEAVEN — Full Mobile Overhaul ✨
══════════════════════════════════════════════ */

/* === TOPBAR MOBILE === */
@media(max-width:640px){
  .topbar{
    display:flex; /* show topbar on mobile with admin button */
    padding:8px 16px;
    gap:12px;
    justify-content:space-between;
    align-items:center;
  }
  .topbar-l,.topbar-r{
    font-size:11px;
  }
}

/* === NAV MOBILE === */
@media(max-width:640px){
  #nav{
    padding:0 16px;
    height:60px;
    position:fixed;
    top:0;left:0;right:0;
  }
  .logo-text{font-size:18px}
  .logo-symbol{width:34px;height:34px}
  .logo-sub{font-size:8px;letter-spacing:2px}
  #adminNavBtn{display:inline-flex!important;padding:7px 12px!important;font-size:11px!important;gap:4px!important}
  #adminNavBtn i{font-size:12px!important}
  #navUserArea .btn-login{padding:6px 12px;font-size:11px;display:none}
  .hamburger{display:flex}
  .nav-menu{display:none}
  .nav-user{justify-content:flex-end}
  body{padding-top:60px}
}

/* === MOBILE NAV OVERLAY === */
@media(max-width:640px){
  .m-nav a{font-size:36px;font-weight:900}
  .m-nav{gap:24px}
}

/* === HERO MOBILE === */
@media(max-width:640px){
  .hero{
    height:auto;
    min-height:100svh;
    display:flex;
    flex-direction:column;
    justify-content:flex-end;
  }
  .hero-bg{
    background:
      linear-gradient(180deg,rgba(10,10,10,0.6) 0%,rgba(10,10,10,0.97) 75%),
      url('https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=800&q=80') center/cover no-repeat;
  }
  .hero-body{
    padding:0 20px 24px;
    max-width:100%;
    justify-content:flex-end;
  }
  .hero-tag{font-size:10px;letter-spacing:3px;margin-bottom:14px}
  .hero h1{
    font-size:clamp(56px,16vw,80px);
    line-height:.9;
    margin-bottom:16px;
    letter-spacing:1px;
  }
  .hero-desc{
    font-size:14px;
    margin-bottom:28px;
    line-height:1.7;
    color:rgba(255,255,255,.65);
  }
  .hero-btns{flex-direction:column;gap:10px;width:100%}
  .btn-primary,.btn-outline{
    width:100%;
    justify-content:center;
    padding:16px 20px;
    font-size:13px;
    border-radius:8px;
  }
  .btn-primary{border-radius:50px;font-size:14px}
  .btn-outline{border-radius:50px;font-size:14px}
}

/* Hero stats — mobile */
@media(max-width:640px){
  .hero-stats{
    display:grid;
    grid-template-columns:1fr 1fr;
    gap:0;
    position:relative;
    border-radius:0;
    border-top:1px solid rgba(255,255,255,0.1);
  }
  .hstat{
    padding:14px 12px;
    gap:8px;
  }
  .hstat:nth-child(2){border-right:none}
  .hstat-icon{width:34px;height:34px;min-width:34px;font-size:14px}
  .hstat-num{font-size:20px}
  .hstat-lbl{font-size:9px;letter-spacing:1px}
}

/* === ABOUT MOBILE === */
@media(max-width:640px){
  .about-wrap{padding:60px 20px}
  .about-grid{grid-template-columns:1fr;gap:32px}
  .about-img-stack{height:280px}
  .ai-main{width:72%;height:80%}
  .ai-sub{width:54%;height:55%}
  .ai-badge{width:90px;height:90px}
  .ai-badge-num{font-size:26px}
  .ai-badge-txt{font-size:9px}
  .about-text p{font-size:14px}
  .stat-row{grid-template-columns:1fr 1fr;gap:10px;margin-top:24px}
  .stat-box{padding:16px 12px}
  .stat-box strong{font-size:28px}
  .stat-box span{font-size:10px}
  .sec-title{font-size:clamp(26px,7vw,36px)}
}

/* === SERVICES MOBILE === */
@media(max-width:640px){
  .services-wrap{padding:60px 20px}
  .svc-header{margin-bottom:32px}
  .svc-grid{
    grid-template-columns:1fr;
    gap:0;
    border-radius:12px;
    overflow:hidden;
  }
  .svc-card{
    padding:28px 24px;
    display:flex;
    align-items:flex-start;
    gap:16px;
    border-bottom:1px solid var(--border);
  }
  .svc-card:last-child{border-bottom:none}
  .svc-icon{
    font-size:28px;
    margin-bottom:0;
    min-width:36px;
    padding-top:2px;
  }
  .svc-card h3{font-size:16px;margin-bottom:6px}
  .svc-card p{font-size:13px}
}

/* === PROJECTS MOBILE === */
@media(max-width:640px){
  .projects-wrap{padding:60px 20px}
  #projectsGrid{
    grid-template-columns:1fr;
    gap:3px;
    border-radius:12px;
    overflow:hidden;
  }
  .proj-card{height:200px}
  .proj-card.big{grid-row:span 1;height:240px}
  .proj-overlay{transform:translateY(0);padding:20px}
  .proj-overlay h3{font-size:16px}
}

/* === PROCESS MOBILE === */
@media(max-width:640px){
  .process-wrap{padding:60px 20px}
  .process-grid{
    grid-template-columns:1fr;
    gap:0;
    border-radius:12px;
    overflow:hidden;
    margin-top:36px;
  }
  .proc-step{padding:28px 24px;border-bottom:1px solid var(--border)}
  .proc-step:last-child{border-bottom:none}
  .proc-num{font-size:52px;margin-bottom:8px}
  .proc-icon{width:44px;height:44px;font-size:18px;margin-bottom:14px}
  .proc-step h4{font-size:16px}
  .proc-step p{font-size:13px}
}

/* === CTA BAND MOBILE === */
@media(max-width:640px){
  .cta-band{
    padding:52px 20px;
    flex-direction:column;
    gap:28px;
    text-align:center;
    border-radius:0;
  }
  .cta-band h2{font-size:clamp(26px,7vw,36px)}
  .cta-band p{font-size:14px}
  .cta-btns{
    flex-direction:column;
    width:100%;
    gap:12px;
  }
  .btn-white{
    width:100%;
    justify-content:center;
    border-radius:50px;
    padding:16px 20px;
  }
  .cta-btns .btn-outline{
    width:100%;
    justify-content:center;
    border-radius:50px;
    padding:15px 20px;
  }
}

/* === TESTIMONIALS MOBILE === */
@media(max-width:640px){
  .testi-wrap{padding:60px 20px}
  .testi-grid{
    grid-template-columns:1fr;
    gap:0;
    border-radius:12px;
    overflow:hidden;
    margin-top:36px;
  }
  .testi-card{padding:28px 24px;border-bottom:1px solid var(--border)}
  .testi-card:last-child{border-bottom:none}
  .testi-card p{font-size:13.5px}
}

/* === CONTACT MOBILE === */
@media(max-width:640px){
  .contact-wrap{padding:60px 20px}
  .contact-grid{grid-template-columns:1fr;gap:36px}
  .contact-form{padding:24px 20px;border-radius:12px}
  .form-row{grid-template-columns:1fr;gap:0}
  .c-item{gap:12px}
  .c-icon{width:38px;height:38px;min-width:38px;font-size:15px}
  .form-group input,.form-group textarea,.form-group select{
    font-size:16px; /* prevent iOS zoom */
    padding:14px 16px;
    border-radius:8px;
  }
  .contact-form .btn-primary{border-radius:50px}
}

/* === FOOTER MOBILE === */
@media(max-width:640px){
  .footer-grid{
    grid-template-columns:1fr;
    gap:36px;
    padding:48px 20px 36px;
  }
  .f-col:nth-child(3){display:none} /* hide duplicate services col */
  .f-bottom{
    padding:16px 20px;
    flex-direction:column;
    gap:8px;
    text-align:center;
  }
  .f-bottom > div{flex-wrap:wrap;justify-content:center;gap:14px}
  .nl-form input{font-size:16px}
}

/* === FLOATING BUTTONS MOBILE === */
@media(max-width:640px){
  .float-hub{bottom:20px;right:16px}
  .wa-quick{bottom:20px;left:16px;width:48px;height:48px;font-size:22px}
  .float-tog{width:48px;height:48px;font-size:16px}
  .fi-btn{font-size:12px;padding:10px 14px}
  .btt{bottom:78px;right:16px}

  /* Sticky bottom CTA bar for mobile — call + whatsapp quick access */
  .mobile-bottom-bar{
    display:flex;
    position:fixed;
    bottom:0;left:0;right:0;
    z-index:850;
    background:var(--ash);
    border-top:1px solid var(--border);
    padding:10px 16px;
    gap:10px;
    padding-bottom:calc(10px + env(safe-area-inset-bottom));
  }
  .mobile-bottom-bar a{
    flex:1;
    display:flex;
    align-items:center;
    justify-content:center;
    gap:8px;
    padding:13px 10px;
    border-radius:10px;
    font-size:13px;
    font-weight:700;
    letter-spacing:.3px;
    text-decoration:none;
  }
  .mbb-call{background:var(--red);color:var(--white)}
  .mbb-wa{background:#25d366;color:var(--white)}
  /* push page content above the bottom bar */
  footer{padding-bottom:80px}
}
@media(min-width:641px){
  .mobile-bottom-bar{display:none}
}

/* === MODAL MOBILE === */
@media(max-width:640px){
  .modal{width:95%;border-radius:16px 16px 0 0;position:fixed;bottom:0;left:0;right:0;max-width:100%;transform:translateY(100%)}
  .overlay.on .modal{transform:translateY(0)}
  .modal-head{border-radius:16px 16px 0 0;padding:20px 24px}
  .modal-body{padding:24px}
  .auth-btn{padding:16px;font-size:15px}
}

/* ══════════════════════════════════════════════════
   ADMIN PORTAL — MOBILE HORIZONTAL NAV OVERHAUL
   Vertical sidebar → Horizontal scrollable tab bar
══════════════════════════════════════════════════ */

/* ── Desktop admin sidebar stays vertical (unchanged) ── */

/* ── Mobile: full admin portal overhaul ── */
@media(max-width:768px){

  /* ── Admin top bar refinement ── */
  .admin-topbar{
    padding:0 16px;
    height:56px;
    border-bottom:2px solid rgba(192,57,43,0.35);
    box-shadow:0 2px 16px rgba(0,0,0,0.45);
  }
  .admin-topbar .logo-text{font-size:16px}
  .admin-topbar-r{gap:8px}
  .admin-topbar-r .btn-admin span{display:none}
  .admin-topbar-r .btn-admin{padding:8px 10px;min-height:36px}

  /* ── Admin body becomes column layout ── */
  .admin-body{
    flex-direction:column;
    overflow:visible;
    height:auto;
  }

  /* ── Sidebar becomes horizontal scrollable tab bar ── */
  .admin-sidebar{
    width:100% !important;
    min-width:100% !important;
    height:auto !important;
    overflow-x:auto !important;
    overflow-y:hidden !important;
    padding:0 !important;
    display:flex !important;
    flex-direction:row !important;
    background:var(--ash) !important;
    border-right:none !important;
    border-bottom:1px solid rgba(255,255,255,0.07) !important;
    box-shadow:0 4px 20px rgba(0,0,0,0.35) !important;
    /* Hide scrollbar but keep scrollable */
    -ms-overflow-style:none;
    scrollbar-width:none;
    position:sticky;
    top:56px;
    z-index:100;
  }
  .admin-sidebar::-webkit-scrollbar{display:none}

  /* ── Each nav item becomes a horizontal tab ── */
  .admin-nav-item{
    flex-direction:column !important;
    align-items:center !important;
    justify-content:center !important;
    gap:4px !important;
    padding:10px 18px !important;
    border-left:none !important;
    border-bottom:3px solid transparent !important;
    white-space:nowrap !important;
    min-width:72px !important;
    flex-shrink:0 !important;
    transition:all .25s !important;
    position:relative !important;
  }
  .admin-nav-item::after{
    content:'';
    position:absolute;
    bottom:-3px; left:50%;
    transform:translateX(-50%) scaleX(0);
    width:80%; height:3px;
    background:linear-gradient(90deg,var(--red),var(--yellow));
    border-radius:3px 3px 0 0;
    transition:transform .25s;
  }
  .admin-nav-item.active::after{transform:translateX(-50%) scaleX(1)}
  .admin-nav-item.active{
    color:var(--yellow) !important;
    background:rgba(192,57,43,0.08) !important;
    border-bottom-color:transparent !important;
  }
  .admin-nav-item i{
    font-size:18px !important;
    width:auto !important;
    margin:0 !important;
  }
  .admin-nav-item span{
    display:block !important;
    font-size:10px !important;
    font-weight:700 !important;
    letter-spacing:.5px !important;
    text-transform:uppercase !important;
    opacity:.8;
  }
  .admin-nav-item.active span{opacity:1}

  /* ── Content area ── */
  .admin-content{
    padding:16px 14px 100px !important;
    overflow-y:auto !important;
    flex:1;
  }

  /* ── Stat cards — 2 col grid ── */
  .stats-grid{
    grid-template-columns:1fr 1fr !important;
    gap:10px !important;
    margin-bottom:20px !important;
  }
  .stat-card{
    padding:16px 14px !important;
    border-radius:10px !important;
    border:1px solid rgba(255,255,255,0.08) !important;
    box-shadow:0 4px 16px rgba(0,0,0,0.3) !important;
  }
  .stat-card .val{font-size:26px !important}
  .stat-card .lbl{font-size:10px !important}
  .stat-card i{font-size:22px !important;right:12px}

  /* ── Panel titles ── */
  .panel-title{
    font-size:22px !important;
    margin-bottom:4px !important;
  }
  .panel-sub{
    font-size:12px !important;
    margin-bottom:20px !important;
  }

  /* ── Admin cards ── */
  .admin-card{
    border-radius:12px !important;
    border:1px solid rgba(255,255,255,0.08) !important;
    box-shadow:0 4px 24px rgba(0,0,0,0.35) !important;
    margin-bottom:16px !important;
    overflow:hidden !important;
  }
  .admin-card-head{
    padding:14px 16px !important;
    border-bottom:1px solid rgba(255,255,255,0.08) !important;
  }
  .admin-card-head h4{font-size:13px !important}
  .admin-card-body{padding:16px !important}

  /* ── Project form grid → single col ── */
  .admin-card-body > div[style*="grid-template-columns:1fr 1fr"]{
    grid-template-columns:1fr !important;
    gap:0 !important;
  }

  /* ── Tables → card-style on mobile ── */
  .proj-table,.user-table{font-size:12px}
  .proj-table thead,.user-table thead{display:none}
  .proj-table tbody tr,.user-table tbody tr{
    display:block;
    border:1px solid rgba(255,255,255,0.07);
    border-radius:10px;
    margin-bottom:10px;
    padding:12px;
    background:var(--ash2);
    box-shadow:0 2px 10px rgba(0,0,0,0.25);
  }
  .proj-table td,.user-table td{
    display:flex;
    justify-content:space-between;
    align-items:center;
    padding:6px 0;
    border-bottom:1px solid rgba(255,255,255,0.05);
    font-size:12px;
  }
  .proj-table td:last-child,.user-table td:last-child{border-bottom:none}
  .proj-table td::before{
    content:attr(data-label);
    font-size:10px;
    font-weight:700;
    text-transform:uppercase;
    letter-spacing:.8px;
    color:var(--muted);
    flex-shrink:0;
    margin-right:8px;
  }
  .proj-thumb{width:40px;height:30px;border-radius:6px}

  /* ── Admin login box on mobile ── */
  .admin-login-box{
    padding:32px 24px !important;
    border-radius:20px !important;
    border:1px solid rgba(192,57,43,0.25) !important;
    box-shadow:0 24px 60px rgba(0,0,0,0.6) !important;
    width:92% !important;
    max-width:380px !important;
  }

  /* ── Buttons in admin ── */
  .btn-admin{
    border-radius:8px !important;
    font-size:12px !important;
    padding:10px 18px !important;
  }

  /* ── Form inputs in admin ── */
  .a-form-group input,
  .a-form-group textarea,
  .a-form-group select{
    font-size:16px !important; /* prevent iOS zoom */
    border-radius:8px !important;
    padding:13px 14px !important;
    border:1px solid rgba(255,255,255,0.12) !important;
  }
  .a-form-group input:focus,
  .a-form-group textarea:focus{
    border-color:var(--red) !important;
    box-shadow:0 0 0 3px rgba(192,57,43,0.15) !important;
  }
  .a-form-group label{letter-spacing:1px !important}

  /* ── Messages body ── */
  #messagesBody > div{
    border-radius:10px !important;
    margin-bottom:10px !important;
    background:var(--ash2) !important;
    border:1px solid rgba(255,255,255,0.07) !important;
  }

  /* ── Upload zone ── */
  .upload-zone{
    padding:28px 16px !important;
    border-radius:12px !important;
  }

  /* ── Admin wrap overflow fix ── */
  .admin-wrap{
    overflow-y:auto !important;
  }
  #adminDashboard.shown{
    overflow:auto !important;
    flex-direction:column !important;
  }
}

/* === GLOBAL MOBILE POLISH === */
@media(max-width:640px){
  section{padding:60px 20px}
  .eyebrow{font-size:10px}
  .red-rule{margin:12px 0 18px}
  .sec-desc{font-size:14px}

  /* Smooth scroll & touch */
  html{-webkit-tap-highlight-color:transparent;overflow-x:hidden}
  
  /* Larger tap targets globally */
  a, button{min-height:44px}
  
  /* Better hero tag on mobile */
  .hero-tag::before,.hero-tag::after{width:20px}
}

/* Extra glow on mobile CTA */
@media(max-width:640px){
  .btn-primary{
    box-shadow:0 6px 24px rgba(192,57,43,.5);
  }
  .svc-grid,.process-grid,.testi-grid{
    border:1px solid var(--border);
    border-radius:16px;
    overflow:hidden;
  }
  #projectsGrid{
    border-radius:16px;
    overflow:hidden;
  }
  .about-img-stack{
    border-radius:12px;
    overflow:visible;
  }
}

/* ══════════════════════════════════════════════
   FULL-PAGE SIGN-IN SCREEN
══════════════════════════════════════════════ */
#signInPage{
  position:fixed;inset:0;z-index:10000;
  background:var(--black);
  display:flex;flex-direction:column;
  overflow:hidden;
  transition:opacity .5s ease, transform .5s ease;
}
#signInPage.exit{
  opacity:0;
  transform:scale(1.04);
  pointer-events:none;
}
#signInPage.hidden{display:none}

/* Background art */
.signin-bg{
  position:absolute;inset:0;
  background:
    linear-gradient(160deg,rgba(10,10,10,0.93) 40%,rgba(192,57,43,0.08) 70%,rgba(10,10,10,0.96) 100%),
    url('https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=900&q=80') center/cover no-repeat;
  z-index:0;
}
.signin-grain{
  position:absolute;inset:0;z-index:1;
  opacity:.035;
  background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
}
/* Glowing orb */
.signin-orb{
  position:absolute;bottom:-120px;right:-100px;
  width:420px;height:420px;
  border-radius:50%;
  background:radial-gradient(circle,rgba(192,57,43,0.18) 0%,transparent 70%);
  z-index:1;pointer-events:none;
}
.signin-orb2{
  position:absolute;top:-80px;left:-60px;
  width:300px;height:300px;
  border-radius:50%;
  background:radial-gradient(circle,rgba(241,196,15,0.07) 0%,transparent 70%);
  z-index:1;pointer-events:none;
}

/* Admin bar at very top */
.signin-admin-bar{
  position:relative;z-index:20;
  display:flex;justify-content:flex-end;align-items:center;
  padding:14px 20px 10px;
}
.signin-admin-btn{
  display:inline-flex;align-items:center;gap:7px;
  background:var(--red);
  border:2px solid var(--red);
  color:var(--white);
  padding:10px 18px;border-radius:8px;
  font-size:12px;font-weight:700;letter-spacing:.6px;
  text-transform:uppercase;cursor:pointer;
  font-family:'DM Sans',sans-serif;
  transition:all .25s;
  position:relative;z-index:10;
  box-shadow:0 4px 16px rgba(192,57,43,.5);
}
.signin-admin-btn:hover{background:#a93226;border-color:#a93226;transform:translateY(-1px);}
.signin-admin-btn:active{transform:translateY(0);}

/* Main content area */
.signin-body{
  position:relative;z-index:2;
  flex:1;display:flex;flex-direction:column;
  align-items:center;justify-content:center;
  padding:20px 20px 32px;
}

/* Logo area */
.signin-logo{
  text-align:center;margin-bottom:32px;
  animation:fadeUp .7s .1s both;
}
.signin-logo .logo-text{font-size:30px;display:block;margin-bottom:4px}
.signin-logo .logo-sub{font-size:10px;letter-spacing:3px;color:var(--muted)}

/* Card */
.signin-card{
  background:rgba(26,26,26,0.88);
  border:1px solid rgba(255,255,255,0.09);
  border-radius:20px;
  padding:32px 28px;
  width:100%;max-width:400px;
  backdrop-filter:blur(20px);
  box-shadow:0 24px 80px rgba(0,0,0,.6);
  animation:fadeUp .7s .2s both;
}

.signin-title{
  font-family:'Playfair Display',serif;
  font-size:22px;font-weight:900;
  color:var(--white);
  margin-bottom:6px;text-align:center;
}
.signin-subtitle{
  font-size:13px;color:rgba(255,255,255,.4);
  text-align:center;margin-bottom:28px;
}

/* Google button */
.btn-google{
  width:100%;display:flex;align-items:center;justify-content:center;gap:12px;
  padding:15px 20px;
  background:var(--white);color:#1f1f1f;
  border:none;border-radius:12px;
  font-family:'DM Sans',sans-serif;font-size:15px;font-weight:600;
  cursor:pointer;transition:all .25s;
  box-shadow:0 4px 16px rgba(0,0,0,.3);
}
.btn-google:hover{background:#f5f5f5;transform:translateY(-1px);box-shadow:0 8px 24px rgba(0,0,0,.4)}
.btn-google img{width:22px;height:22px}

/* Divider */
.signin-divider{
  display:flex;align-items:center;gap:12px;
  margin:20px 0;color:rgba(255,255,255,.2);font-size:12px;letter-spacing:1px;
}
.signin-divider::before,.signin-divider::after{
  content:'';flex:1;height:1px;background:rgba(255,255,255,.1);
}

/* Phone section */
.signin-phone-label{
  font-size:11px;font-weight:700;text-transform:uppercase;
  letter-spacing:1.5px;color:rgba(255,255,255,.35);
  margin-bottom:10px;display:block;
}
.signin-phone-row{
  display:flex;gap:8px;margin-bottom:12px;
}
.signin-country-select{
  padding:11px 8px;
  background:rgba(255,255,255,.06);
  border:1px solid rgba(255,255,255,.1);
  color:var(--white);border-radius:10px;
  font-family:'DM Sans',sans-serif;font-size:12px;
  outline:none;width:80px;min-width:80px;max-width:80px;cursor:pointer;
  transition:border-color .25s;
}
.signin-country-select:focus{border-color:rgba(192,57,43,.6)}
.signin-phone-input{
  flex:1;padding:11px 14px;
  background:rgba(255,255,255,.06);
  border:1px solid rgba(255,255,255,.1);
  color:var(--white);border-radius:10px;
  font-family:'DM Sans',sans-serif;font-size:14px;
  outline:none;transition:border-color .25s;
}
.signin-phone-input:focus{border-color:rgba(192,57,43,.7)}
.signin-phone-input::placeholder{color:rgba(255,255,255,.25)}
.btn-phone{
  width:100%;display:flex;align-items:center;justify-content:center;gap:10px;
  padding:15px 20px;
  background:var(--red);color:var(--white);
  border:none;border-radius:12px;
  font-family:'DM Sans',sans-serif;font-size:15px;font-weight:700;
  cursor:pointer;transition:all .25s;
  box-shadow:0 4px 20px rgba(192,57,43,.45);
}
.btn-phone:hover{background:var(--red2);transform:translateY(-1px)}
.btn-phone:disabled{opacity:.5;cursor:not-allowed;transform:none}

/* Error message */
.signin-error{
  background:rgba(192,57,43,.15);border:1px solid rgba(192,57,43,.4);
  color:#e74c3c;padding:10px 14px;border-radius:8px;
  font-size:13px;margin-bottom:14px;text-align:center;
  display:none;
}
.signin-success-state{
  text-align:center;padding:16px 0;display:none;
}
.signin-success-icon{
  width:64px;height:64px;
  background:rgba(46,213,115,.12);border:2px solid #2ed573;
  border-radius:50%;display:flex;align-items:center;justify-content:center;
  margin:0 auto 14px;font-size:30px;color:#2ed573;
}
.signin-success-name{font-size:18px;font-weight:700;color:var(--white);margin-bottom:4px}
.signin-success-email{font-size:13px;color:var(--muted)}
.btn-enter-site{
  margin-top:20px;width:100%;display:flex;align-items:center;justify-content:center;gap:10px;
  padding:16px 20px;background:linear-gradient(110deg,var(--red),#e63946);
  color:var(--white);border:none;border-radius:12px;
  font-family:'DM Sans',sans-serif;font-size:15px;font-weight:700;
  cursor:pointer;box-shadow:0 6px 24px rgba(192,57,43,.5);
  transition:all .3s;
}
.btn-enter-site:hover{transform:translateY(-2px);box-shadow:0 10px 32px rgba(192,57,43,.6)}

/* Skip/Guest */
.signin-skip{
  text-align:center;margin-top:20px;
  font-size:12px;color:rgba(255,255,255,.3);
  animation:fadeUp .7s .4s both;
}
.signin-skip a{color:rgba(255,255,255,.45);cursor:pointer;text-decoration:underline;text-underline-offset:3px}
.signin-skip a:hover{color:var(--yellow)}

/* Bottom decoration */
.signin-bottom-deco{
  position:relative;z-index:2;
  text-align:center;padding:0 20px 16px;
  font-size:10px;letter-spacing:2px;text-transform:uppercase;
  color:rgba(255,255,255,.15);
  animation:fadeUp .7s .5s both;
}

/* ── Logo glow animations ── */
@keyframes logoPulse{
  0%,100%{opacity:.7;transform:scale(1)}
  50%{opacity:1;transform:scale(1.08)}
}
@keyframes logoFloat{
  0%,100%{transform:translateY(0)}
  50%{transform:translateY(-6px)}
}
</style>
</head>
<body>

<!-- ══════════════════════════════════════════════
     FULL-PAGE SIGN-IN SCREEN
══════════════════════════════════════════════ -->
<div id="signInPage">
  <!-- Background -->
  <div class="signin-bg"></div>
  <div class="signin-grain"></div>
  <div class="signin-orb"></div>
  <div class="signin-orb2"></div>

  <!-- Admin Button — top right -->
  <div class="signin-admin-bar">
    <button class="signin-admin-btn" onclick="showAdminPortal(event)">
      <i class="fas fa-shield-alt"></i> Admin Portal
    </button>
  </div>

  <!-- Main body -->
  <div class="signin-body">

    <!-- Logo -->
    <div class="signin-logo" style="text-align:center;margin-bottom:28px;animation:fadeUp .7s .1s both">
      <div style="position:relative;display:inline-block">
        <!-- Outer glow layers -->
        <div style="position:absolute;inset:-18px;border-radius:50%;background:radial-gradient(circle,rgba(192,57,43,0.45) 0%,rgba(192,57,43,0.18) 45%,transparent 72%);animation:logoPulse 2.4s ease-in-out infinite;pointer-events:none"></div>
        <div style="position:absolute;inset:-8px;border-radius:50%;background:radial-gradient(circle,rgba(241,196,15,0.12) 0%,transparent 70%);animation:logoPulse 2.4s ease-in-out infinite .4s;pointer-events:none"></div>
        <!-- Logo image -->
        <img src="whatsapp-logo.png" alt="JB Venture"
          style="height:120px;width:auto;object-fit:contain;display:block;position:relative;z-index:2;
                 filter:drop-shadow(0 0 18px rgba(192,57,43,0.85)) drop-shadow(0 0 36px rgba(192,57,43,0.45)) drop-shadow(0 0 6px rgba(255,255,255,0.15));
                 animation:logoFloat 3.5s ease-in-out infinite"/>
      </div>
    </div>

    <!-- Card -->
    <div class="signin-card">
      <div class="signin-title">Welcome 👋</div>
      <div class="signin-subtitle">Enter your details to get started</div>

      <!-- Error -->
      <div class="signin-error" id="signinError"></div>

      <!-- Success state -->
      <div class="signin-success-state" id="signinSuccess">
        <div class="signin-success-icon">✓</div>
        <div class="signin-success-name" id="signinSuccessName">Signed in!</div>
        <div class="signin-success-email" id="signinSuccessEmail"></div>
        <button class="btn-enter-site" onclick="enterWebsite()">
          Enter Website <i class="fas fa-arrow-right"></i>
        </button>
      </div>

      <!-- Unified form — both phone + Google together -->
      <div id="signinForms">

        <!-- Step label -->
        <div style="display:flex;align-items:center;gap:8px;margin-bottom:18px">
          <div style="width:22px;height:22px;border-radius:50%;background:var(--red);display:flex;align-items:center;justify-content:center;font-size:11px;font-weight:700;color:white;flex-shrink:0">1</div>
          <span class="signin-phone-label" style="margin:0">Your Phone Number <span style="color:var(--red)">*</span></span>
        </div>

        <!-- Phone row -->
        <div class="signin-phone-row">
          <select class="signin-country-select" id="signinCountry">
            <option value="+91">🇮🇳 +91</option>
            <option value="+1">🇺🇸 +1</option>
            <option value="+44">🇬🇧 +44</option>
            <option value="+61">🇦🇺 +61</option>
            <option value="+971">🇦🇪 +971</option>
            <option value="+65">🇸🇬 +65</option>
            <option value="+60">🇲🇾 +60</option>
          </select>
          <div style="flex:1;position:relative">
            <input type="tel" class="signin-phone-input" id="signinPhone"
              placeholder="Enter phone number"
              oninput="updatePhoneBtn()"
              inputmode="numeric"
              maxlength="15"
            />
            <span id="signinPhoneTick" style="position:absolute;right:12px;top:50%;transform:translateY(-50%);font-size:18px;color:#2ed573;display:none">✓</span>
          </div>
        </div>

        <!-- Google label -->
        <div style="display:flex;align-items:center;gap:8px;margin:16px 0 12px">
          <div style="width:22px;height:22px;border-radius:50%;background:var(--ash3);border:1px solid rgba(192,57,43,0.3);display:flex;align-items:center;justify-content:center;font-size:11px;font-weight:700;color:rgba(255,255,255,.5);flex-shrink:0" id="step2Badge">2</div>
          <span class="signin-phone-label" style="margin:0">Sign In with Google <span style="color:var(--red)">*</span></span>
        </div>

        <!-- Google button — submits both phone + Google together -->
        <button class="btn-google" id="signinGoogleBtn" onclick="signinWithGoogle()">
          <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" alt="Google">
          <span id="signinGoogleText">Continue with Google</span>
          <span id="signinGoogleSpinner" style="display:none"><i class="fas fa-spinner fa-spin"></i></span>
        </button>

        <!-- Helper note -->
        <p style="font-size:11px;color:rgba(255,255,255,.25);text-align:center;margin-top:14px;line-height:1.6">
          Enter phone number first, then sign in with Google.<br>Both details will be saved together.
        </p>
      </div>
    </div>


  </div>

  <!-- Bottom tag -->
  <div class="signin-bottom-deco">JB Venture · Est. 2013 · Thoothukudi, Tamil Nadu</div>
</div>

<!-- ══════ SCROLL BAR ══════ -->
<div id="scrollBar"></div>

<!-- ══════ TOPBAR ══════ -->
<div class="topbar">
  <div class="topbar-l">
    <a href="tel:+917373720302"><i class="fas fa-phone"></i>73737 20302</a>
    <a href="/cdn-cgi/l/email-protection#2e474048416e444c584b405a5b5c4b4f5c4d46475a4b4d5a5d004d4143"><i class="fas fa-envelope"></i><span class="__cf_email__" data-cfemail="157c7b737a557f7763707b616067707467767d7c61707661663b767a78">[email&#160;protected]</span></a>
  </div>
  <div class="topbar-r">
    <span><i class="fas fa-map-marker-alt"></i>Thoothukudi, Tamil Nadu</span>
    <span><i class="fas fa-clock"></i>Mon–Sat: 9AM–7PM</span>
    <!-- admin link moved to navbar -->
  </div>
</div>

<!-- ══════ NAV ══════ -->
<nav id="nav">
  <a href="#home" class="logo-wrap">
    <!-- Venture Logo SVG inline -->
    <div class="logo-symbol">
      <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
        <polygon points="50,8 92,50 50,92 8,50" fill="none" stroke="#c0392b" stroke-width="9"/>
        <polygon points="50,20 80,50 50,80 20,50" fill="none" stroke="#1a1a1a" stroke-width="9"/>
        <rect x="44" y="10" width="12" height="38" fill="#c0392b" rx="1"/>
        <rect x="47" y="10" width="6" height="20" fill="#f1c40f" rx="1"/>
        <polygon points="44,10 56,10 62,48 38,48" fill="#1a1a1a"/>
      </svg>
    </div>
    <div>
      <div class="logo-text">JB <em>Venture</em></div>
      <div class="logo-sub">Construction &amp; Architects</div>
    </div>
  </a>
  <div class="nav-menu">
    <a href="#home">Home</a>
    <a href="#about">About</a>
    <a href="#services">Services</a>
    <a href="#projects">Projects</a>
    <a href="#process">Process</a>
    <a href="#contact">Contact</a>
    <a href="#contact" class="nav-cta">Get Quote</a>
  </div>
  <div class="nav-user" style="display:flex;align-items:center;gap:10px">
    <a href="#" id="adminNavBtn" onclick="showAdminPortal(event)"
       style="display:inline-flex;align-items:center;gap:6px;background:rgba(192,57,43,0.12);border:1px solid rgba(192,57,43,0.35);color:var(--red);padding:8px 14px;border-radius:3px;font-size:12px;font-weight:700;letter-spacing:.5px;text-transform:uppercase;transition:all .25s;cursor:pointer"
       onmouseover="this.style.background='var(--red)';this.style.color='white'"
       onmouseout="this.style.background='rgba(192,57,43,0.12)';this.style.color='var(--red)'">
      <i class="fas fa-shield-alt"></i> Admin
    </a>
    <div id="navUserArea">
      <button class="btn-login" onclick="openLogin()"><i class="fas fa-user"></i> Sign In</button>
    </div>
  </div>
  <button class="hamburger" onclick="mNavToggle()" aria-label="Menu">
    <span></span><span></span><span></span>
  </button>
</nav>

<!-- ══════ MOBILE NAV ══════ -->
<div class="m-nav" id="mNav">
  <button class="m-nav-x" onclick="mNavToggle()"><i class="fas fa-times"></i></button>
  <a href="#home" onclick="mNavToggle()">Home</a>
  <a href="#about" onclick="mNavToggle()">About</a>
  <a href="#services" onclick="mNavToggle()">Services</a>
  <a href="#projects" onclick="mNavToggle()">Projects</a>
  <a href="#process" onclick="mNavToggle()">Process</a>
  <a href="#contact" onclick="mNavToggle()">Contact</a>
</div>

<!-- ══════ HERO ══════ -->
<section class="hero" id="home">
  <div class="hero-bg"></div>
  <div class="hero-grain"></div>

  <!-- Family + building image on right -->
  <img class="hero-img-overlay"
    src="https://images.unsplash.com/photo-1558036117-15d82a90b9b1?w=900&q=80"
    alt="Happy family with new home"
    onerror="this.style.display='none'"
  >

  <div class="hero-body">
    <div class="hero-tag">JB Venture — Est. 2013</div>
    <h1>BUILD YOUR<br><em>DREAM</em><br><span class="outline">HOME</span></h1>
    <p class="hero-desc">Thoothukudi's most trusted construction & architecture firm. Delivering excellence across 21+ active sites with 300+ skilled professionals.</p>
    <div class="hero-btns">
      <a href="#contact" class="btn-primary"><i class="fas fa-hard-hat"></i>Start Your Project</a>
      <a href="#projects" class="btn-outline"><i class="fas fa-images"></i>View Projects</a>
    </div>
  </div>

  <div class="hero-stats">
    <div class="hstat fi">
      <div class="hstat-icon"><i class="fas fa-home"></i></div>
      <div>
        <div class="hstat-num" data-t="500">0</div>
        <div class="hstat-lbl">Homes Built</div>
      </div>
    </div>
    <div class="hstat fi d1">
      <div class="hstat-icon"><i class="fas fa-users"></i></div>
      <div>
        <div class="hstat-num" data-t="300">0</div>
        <div class="hstat-lbl">Professionals</div>
      </div>
    </div>
    <div class="hstat fi d2">
      <div class="hstat-icon"><i class="fas fa-hard-hat"></i></div>
      <div>
        <div class="hstat-num" data-t="21">0</div>
        <div class="hstat-lbl">Active Sites</div>
      </div>
    </div>
    <div class="hstat fi d3">
      <div class="hstat-icon"><i class="fas fa-calendar-check"></i></div>
      <div>
        <div class="hstat-num" data-t="10">0</div>
        <div class="hstat-lbl">Years Experience</div>
      </div>
    </div>
  </div>
</section>

<!-- ══════ ABOUT ══════ -->
<section class="about-wrap" id="about">
  <div class="about-grid">
    <div class="about-img-stack fl">
      <img class="ai-main" src="https://images.unsplash.com/photo-1541123437800-1bb1317badc2?w=700&q=75" alt="Construction site" onerror="this.src='https://via.placeholder.com/500x400/1a1a1a/c0392b?text=JB+Venture'">
      <img class="ai-sub" src="https://images.unsplash.com/photo-1503387762-592deb58ef4e?w=500&q=75" alt="Architecture" onerror="this.style.display='none'">
      <div class="ai-badge">
        <div class="ai-badge-num">10+</div>
        <div class="ai-badge-txt">Years</div>
      </div>
    </div>
    <div class="about-text fr">
      <div class="eyebrow">About JB Venture</div>
      <h2 class="sec-title">Building <em>Dreams</em> Into Reality</h2>
      <div class="red-rule"></div>
      <p>Founded in Thoothukudi, JB Venture has grown to become the region's most trusted construction and architecture firm. With a passionate team of engineers, architects, and craftsmen, we deliver homes and commercial spaces that stand the test of time.</p>
      <p>From blueprint to handover, we are committed to quality, transparency, and timely delivery. Every project is a promise fulfilled.</p>
      <div class="stat-row">
        <div class="stat-box"><strong>500+</strong><span>Projects Completed</span></div>
        <div class="stat-box"><strong>300+</strong><span>Expert Team</span></div>
        <div class="stat-box"><strong>21+</strong><span>Active Sites</span></div>
        <div class="stat-box"><strong>10+</strong><span>Cities Served</span></div>
      </div>
      <div style="margin-top:32px">
        <a href="#contact" class="btn-primary" style="display:inline-flex"><i class="fas fa-phone"></i>Talk to Us</a>
      </div>
    </div>
  </div>
</section>

<!-- ══════ SERVICES ══════ -->
<section class="services-wrap" id="services">
  <div class="svc-header">
    <div>
      <div class="eyebrow">What We Do</div>
      <h2 class="sec-title">Our <em>Services</em></h2>
    </div>
    <p class="sec-desc" style="max-width:360px">End-to-end solutions for every construction and design need.</p>
  </div>
  <div class="svc-grid fi">
    <div class="svc-card">
      <i class="fas fa-building svc-icon"></i>
      <h3>Construction</h3>
      <p>Residential, commercial & industrial construction with the highest quality materials and craftsmanship.</p>
    </div>
    <div class="svc-card">
      <i class="fas fa-drafting-compass svc-icon"></i>
      <h3>Architecture</h3>
      <p>Innovative architectural design that blends aesthetics with functionality for modern living.</p>
    </div>
    <div class="svc-card">
      <i class="fas fa-couch svc-icon"></i>
      <h3>Interior Design</h3>
      <p>Curated interiors that reflect your personality — from concept to installation.</p>
    </div>
    <div class="svc-card">
      <i class="fas fa-tools svc-icon"></i>
      <h3>Renovation</h3>
      <p>Transform your existing space with expert renovation and refurbishment services.</p>
    </div>
    <div class="svc-card">
      <i class="fas fa-layer-group svc-icon"></i>
      <h3>Project Development</h3>
      <p>Full project lifecycle management from land acquisition to handover.</p>
    </div>
    <div class="svc-card">
      <i class="fas fa-fire svc-icon"></i>
      <h3>Welding & Laser</h3>
      <p>Precision welding and laser fabrication for custom structural and decorative work.</p>
    </div>
  </div>
</section>

<!-- ══════ REALTIME PROJECTS ══════ -->
<section class="projects-wrap" id="projects">
  <div class="proj-header">
    <div>
      <div class="eyebrow">Portfolio</div>
      <h2 class="sec-title">Realtime <em>Projects</em></h2>
    </div>
    <a href="#contact" class="btn-outline">View All <i class="fas fa-arrow-right"></i></a>
  </div>
  <div id="projectsGrid">
    <!-- Default projects — will be replaced by Firebase data -->
    <div class="proj-card big fi">
      <div class="proj-bg pj1"></div>
      <div class="proj-overlay">
        <div class="proj-cat">Residential</div>
        <h3>Modern Villa, Thoothukudi</h3>
        <p>4BHK duplex with rooftop garden</p>
      </div>
    </div>
    <div class="proj-card fi d1">
      <div class="proj-bg pj2"></div>
      <div class="proj-overlay">
        <div class="proj-cat">Commercial</div>
        <h3>Office Complex</h3>
        <p>2,400 sq ft premium workspace</p>
      </div>
    </div>
    <div class="proj-card fi d2">
      <div class="proj-bg pj3"></div>
      <div class="proj-overlay">
        <div class="proj-cat">Architecture</div>
        <h3>Heritage Bungalow Restoration</h3>
        <p>Colonial-era restoration project</p>
      </div>
    </div>
    <div class="proj-card fi d3">
      <div class="proj-bg pj4"></div>
      <div class="proj-overlay">
        <div class="proj-cat">Industrial</div>
        <h3>Factory Complex</h3>
        <p>12,000 sq ft manufacturing unit</p>
      </div>
    </div>
    <div class="proj-card fi d4">
      <div class="proj-bg pj5"></div>
      <div class="proj-overlay">
        <div class="proj-cat">Interior</div>
        <h3>Luxury Penthouse</h3>
        <p>Full interior design & execution</p>
      </div>
    </div>
  </div>
</section>

<!-- ══════ PROCESS ══════ -->
<section class="process-wrap" id="process">
  <div style="text-align:center;max-width:600px;margin:0 auto 0">
    <div class="eyebrow" style="justify-content:center">How We Work</div>
    <h2 class="sec-title">Our <em>Process</em></h2>
    <p class="sec-desc" style="margin:0 auto">A streamlined, transparent process from your first call to key handover.</p>
  </div>
  <div class="process-grid fi">
    <div class="proc-step">
      <div class="proc-num">01</div>
      <div class="proc-icon"><i class="fas fa-phone-alt"></i></div>
      <h4>Consultation</h4>
      <p>Free consultation to understand your vision, budget, and timeline requirements.</p>
    </div>
    <div class="proc-step">
      <div class="proc-num">02</div>
      <div class="proc-icon"><i class="fas fa-pencil-ruler"></i></div>
      <h4>Design & Plan</h4>
      <p>Our architects create detailed plans, 3D renders, and accurate cost estimates.</p>
    </div>
    <div class="proc-step">
      <div class="proc-num">03</div>
      <div class="proc-icon"><i class="fas fa-hammer"></i></div>
      <h4>Construction</h4>
      <p>Expert execution with real-time progress updates and strict quality checks.</p>
    </div>
    <div class="proc-step">
      <div class="proc-num">04</div>
      <div class="proc-icon"><i class="fas fa-key"></i></div>
      <h4>Handover</h4>
      <p>Final walkthrough, documentation, and keys — your dream home delivered.</p>
    </div>
  </div>
</section>

<!-- ══════ CTA BAND ══════ -->
<div class="cta-band fi">
  <div>
    <h2>Ready to Build Your Dream Home?</h2>
    <p>Get a free consultation and estimate from Tamil Nadu's most trusted builders.</p>
  </div>
  <div class="cta-btns">
    <a href="tel:+917373720302" class="btn-white"><i class="fas fa-phone"></i>Call Now</a>
    <a href="https://wa.me/917373720302" target="_blank" class="btn-outline" style="padding:15px 36px"><i class="fab fa-whatsapp"></i>WhatsApp</a>
  </div>
</div>

<!-- ══════ TESTIMONIALS ══════ -->
<section class="testi-wrap" id="testimonials">
  <div class="eyebrow">Client Stories</div>
  <h2 class="sec-title">What Our <em>Clients Say</em></h2>
  <div class="red-rule"></div>
  <div class="testi-grid fi">
    <div class="testi-card">
      <div class="testi-quote">"</div>
      <div class="testi-stars">★★★★★</div>
      <p>"JB Venture exceeded every expectation. From design to handover, the professionalism was exceptional. Our villa is everything we dreamed of."</p>
      <div class="testi-author">
        <div class="testi-av">R</div>
        <div><div class="testi-name">Rajesh Kumar</div><div class="testi-loc">Thoothukudi</div></div>
      </div>
    </div>
    <div class="testi-card">
      <div class="testi-quote">"</div>
      <div class="testi-stars">★★★★★</div>
      <p>"The team completed our commercial complex on time and within budget. Their quality control is unmatched in the region."</p>
      <div class="testi-author">
        <div class="testi-av">P</div>
        <div><div class="testi-name">Priya Sundar</div><div class="testi-loc">Chennai</div></div>
      </div>
    </div>
    <div class="testi-card">
      <div class="testi-quote">"</div>
      <div class="testi-stars">★★★★★</div>
      <p>"Best decision we ever made — transparent pricing, skilled workers, and stunning results. Highly recommend JB Venture to everyone."</p>
      <div class="testi-author">
        <div class="testi-av">M</div>
        <div><div class="testi-name">Murugan Selvam</div><div class="testi-loc">Tirunelveli</div></div>
      </div>
    </div>
  </div>
</section>

<!-- ══════ CONTACT ══════ -->
<section class="contact-wrap" id="contact">
  <div class="contact-grid">
    <div class="contact-info fl">
      <div class="eyebrow">Get In Touch</div>
      <h2 class="sec-title">Let's Build <em>Together</em></h2>
      <div class="red-rule"></div>
      <div class="c-item">
        <div class="c-icon"><i class="fas fa-map-marker-alt"></i></div>
        <div><h5>Address</h5><p>99 C, Ettayapuram Rd, Polpettai East, Thoothukudi, Tamil Nadu 628002</p></div>
      </div>
      <div class="c-item">
        <div class="c-icon"><i class="fas fa-phone"></i></div>
        <div><h5>Phone</h5><a href="tel:+917373720302">73737 20302</a></div>
      </div>
      <div class="c-item">
        <div class="c-icon"><i class="fab fa-whatsapp"></i></div>
        <div><h5>WhatsApp</h5><a href="https://wa.me/917373720302" target="_blank">Chat with Us</a></div>
      </div>
      <div class="c-item">
        <div class="c-icon"><i class="fas fa-clock"></i></div>
        <div><h5>Hours</h5><p>Mon–Fri: 9AM–7PM &nbsp;|&nbsp; Sat: 9AM–5PM</p></div>
      </div>
    </div>
    <div class="contact-form fr">
      <div class="form-row">
        <div class="form-group"><label>Full Name</label><input type="text" placeholder="Your name"/></div>
        <div class="form-group"><label>Phone</label><input type="tel" placeholder="+91 00000 00000"/></div>
      </div>
      <div class="form-group"><label>Email</label><input type="email" placeholder="your@email.com"/></div>
      <div class="form-group">
        <label>Service Needed</label>
        <select><option>Select service...</option><option>Residential Construction</option><option>Commercial Construction</option><option>Architecture Design</option><option>Interior Design</option><option>Renovation</option><option>Consultation</option></select>
      </div>
      <div class="form-group"><label>Message</label><textarea placeholder="Describe your project..."></textarea></div>
      <button class="btn-primary" style="width:100%;justify-content:center" onclick="submitContact(this)"><i class="fas fa-paper-plane"></i>Send Message</button>
    </div>
  </div>
</section>

<!-- ══════ FOOTER ══════ -->
<footer>
  <div class="footer-grid">
    <div class="f-brand">
      <div class="logo-text">JB <em>Venture</em></div>
      <div class="logo-sub" style="color:rgba(255,255,255,.3);margin-top:4px;letter-spacing:3px;font-size:9px">Construction &amp; Architects</div>
      <p>Building dreams into reality since 2013. Thoothukudi's most trusted name in construction and architecture.</p>
      <div class="socials">
        <a href="#" class="soc"><i class="fab fa-facebook-f"></i></a>
        <a href="#" class="soc"><i class="fab fa-instagram"></i></a>
        <a href="#" class="soc"><i class="fab fa-youtube"></i></a>
        <a href="https://wa.me/917373720302" target="_blank" class="soc"><i class="fab fa-whatsapp"></i></a>
        <a href="#" class="soc"><i class="fab fa-linkedin-in"></i></a>
      </div>
    </div>
    <div class="f-col">
      <h4>Quick Links</h4>
      <ul>
        <li><a href="#home"><i class="fas fa-chevron-right"></i>Home</a></li>
        <li><a href="#about"><i class="fas fa-chevron-right"></i>About Us</a></li>
        <li><a href="#services"><i class="fas fa-chevron-right"></i>Services</a></li>
        <li><a href="#projects"><i class="fas fa-chevron-right"></i>Projects</a></li>
        <li><a href="#contact"><i class="fas fa-chevron-right"></i>Contact</a></li>
      </ul>
    </div>
    <div class="f-col">
      <h4>Services</h4>
      <ul>
        <li><a href="#services"><i class="fas fa-chevron-right"></i>Construction</a></li>
        <li><a href="#services"><i class="fas fa-chevron-right"></i>Architecture</a></li>
        <li><a href="#services"><i class="fas fa-chevron-right"></i>Interior Design</a></li>
        <li><a href="#services"><i class="fas fa-chevron-right"></i>Renovation</a></li>
        <li><a href="#services"><i class="fas fa-chevron-right"></i>Project Dev</a></li>
        <li><a href="#services"><i class="fas fa-chevron-right"></i>Welding &amp; Laser</a></li>
      </ul>
    </div>
    <div class="f-col">
      <h4>Contact</h4>
      <div class="c-item" style="margin-bottom:12px;align-items:flex-start"><i class="fas fa-map-marker-alt" style="color:var(--red);margin-right:10px;margin-top:3px"></i><span style="font-size:13px;color:rgba(255,255,255,.4)">99 C, Ettayapuram Rd, Thoothukudi</span></div>
      <div class="c-item" style="margin-bottom:12px"><i class="fas fa-phone" style="color:var(--red);margin-right:10px"></i><a href="tel:+917373720302" style="font-size:13px;color:rgba(255,255,255,.4)">73737 20302</a></div>
      <div class="c-item" style="margin-bottom:20px"><i class="fab fa-whatsapp" style="color:var(--red);margin-right:10px"></i><a href="https://wa.me/917373720302" style="font-size:13px;color:rgba(255,255,255,.4)">WhatsApp Chat</a></div>
      <h4>Newsletter</h4>
      <p style="color:rgba(255,255,255,.3);font-size:12px;margin-bottom:8px">Stay updated with our projects</p>
      <div class="nl-form">
        <input type="email" placeholder="Your email"/>
        <button onclick="nlSub(this)"><i class="fas fa-paper-plane"></i></button>
      </div>
    </div>
  </div>
  <div class="f-bottom">
    <span>© 2025 JB Venture | Constructions &amp; Architects. All rights reserved.</span>
    <div style="display:flex;gap:20px">
      <a href="#">Privacy</a>
      <a href="#">Terms</a>
      <a href="https://www.jbventurearchitects.com" target="_blank">jbventurearchitects.com</a>
    </div>
  </div>
</footer>

<!-- ══════ MOBILE BOTTOM BAR ══════ -->
<div class="mobile-bottom-bar">
  <a href="tel:+917373720302" class="mbb-call"><i class="fas fa-phone-alt"></i>Call Now</a>
  <a href="https://wa.me/917373720302?text=Hi JB Venture!" target="_blank" class="mbb-wa"><i class="fab fa-whatsapp"></i>WhatsApp</a>
</div>

<!-- ══════ FLOAT HUB ══════ -->
<div class="float-hub">
  <div class="float-items" id="floatItems">
    <a href="tel:+917373720302" class="fi-btn fi-call2"><i class="fas fa-phone-alt"></i>73737 20302</a>
    <a href="https://wa.me/917373720302" target="_blank" class="fi-btn fi-wa2"><i class="fab fa-whatsapp"></i>WhatsApp</a>
  </div>
  <button class="float-tog" id="fTog" onclick="togFloat()"><i class="fas fa-plus"></i></button>
</div>
<a class="wa-quick" href="https://wa.me/917373720302?text=Hi JB Venture!" target="_blank"><i class="fab fa-whatsapp"></i></a>
<button class="btt" id="btt" onclick="window.scrollTo({top:0,behavior:'smooth'})"><i class="fas fa-chevron-up"></i></button>

<!-- ══════ AUTH OVERLAY ══════ -->
<div class="overlay" id="authOverlay">
  <div class="modal" style="max-width:460px">
    <div class="modal-head">
      <h2>Welcome to JB Venture</h2>
      <button class="modal-close" onclick="closeLogin()"><i class="fas fa-times"></i></button>
    </div>
    <div class="modal-body">
      <div class="modal-logo" style="text-align:center;margin-bottom:24px">
        <div class="logo-text" style="font-size:22px;text-align:center">JB <em>Venture</em></div>
        <div style="font-size:11px;color:var(--muted);margin-top:4px;letter-spacing:2px;text-transform:uppercase">Sign in to continue</div>
      </div>

      <!-- Phone Number Field -->
      <div style="margin-bottom:16px">
        <label style="display:block;font-size:11px;font-weight:700;text-transform:uppercase;letter-spacing:1.5px;color:var(--muted);margin-bottom:8px">
          Phone Number <span style="color:var(--red)">*</span>
        </label>
        <div style="display:flex;gap:8px;align-items:center">
          <select id="loginCountry" style="padding:12px 10px;background:var(--ash2);border:1px solid var(--border);color:var(--white);border-radius:3px;font-family:'DM Sans',sans-serif;font-size:13px;outline:none;min-width:110px">
            <option value="+91">🇮🇳 +91</option>
            <option value="+1">🇺🇸 +1</option>
            <option value="+44">🇬🇧 +44</option>
            <option value="+61">🇦🇺 +61</option>
            <option value="+971">🇦🇪 +971</option>
            <option value="+65">🇸🇬 +65</option>
          </select>
          <div style="flex:1;position:relative">
            <input type="tel" id="loginPhone" placeholder="Enter phone number"
              style="width:100%;padding:12px 40px 12px 14px;background:var(--ash2);border:1px solid var(--border);color:var(--white);border-radius:3px;font-family:'DM Sans',sans-serif;font-size:14px;outline:none;transition:border-color .25s"
              oninput="validatePhone(this)"
              onfocus="this.style.borderColor='var(--red)'"
              onblur="this.style.borderColor=this.value.length>=8?'#2ed573':'var(--border)'"
            />
            <!-- Green tick appears when phone valid -->
            <span id="phoneTick" style="position:absolute;right:12px;top:50%;transform:translateY(-50%);font-size:18px;color:#2ed573;display:none">✓</span>
          </div>
        </div>
        <div id="phoneHint" style="font-size:11px;color:var(--muted);margin-top:6px">Enter your phone number to continue</div>
      </div>

      <!-- Error box -->
      <div id="authModalError" style="display:none;background:rgba(192,57,43,0.15);border:1px solid rgba(192,57,43,0.4);color:#e74c3c;padding:10px 14px;border-radius:4px;font-size:13px;margin-bottom:12px;line-height:1.6;text-align:center"></div>

      <!-- Google Button -->
      <button class="auth-btn" id="googleSignInBtn" onclick="signInGoogle()" style="position:relative">
        <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" alt="Google" style="width:20px;height:20px">
        <span id="googleBtnText">Continue with Google</span>
        <span id="googleBtnSpinner" style="display:none"><i class="fas fa-spinner fa-spin"></i></span>
      </button>

      <!-- Success state (hidden until login) -->
      <div id="loginSuccess" style="display:none;text-align:center;padding:20px 0">
        <div style="width:60px;height:60px;background:rgba(46,213,115,0.15);border:2px solid #2ed573;border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto 12px;font-size:28px;color:#2ed573">✓</div>
        <div style="font-size:16px;font-weight:700;color:var(--white)" id="successName">Signed in!</div>
        <div style="font-size:13px;color:var(--muted);margin-top:4px" id="successEmail"></div>
        <button onclick="closeLogin()" class="btn-primary" style="margin-top:16px;width:100%;justify-content:center">Continue to Website →</button>
      </div>

      <p class="modal-note" style="margin-top:12px">By signing in, you agree to our Terms of Service. Your data is safe and secure.</p>
    </div>
  </div>
</div>

<!-- Phone overlay removed - phone collected inside login modal -->

<!-- ══════ ADMIN PORTAL ══════ -->
<div class="admin-wrap" id="adminPortal">
  <!-- Admin Login -->
  <div class="admin-login" id="adminLoginScreen" style="display:flex">
    <div class="admin-login-box">
      <div class="logo-text" style="font-size:22px;margin-bottom:6px">JB <em>Venture</em></div>
      <div style="font-size:10px;color:var(--muted);letter-spacing:3px;text-transform:uppercase;margin-bottom:28px">Admin Portal</div>
      <h2>Sign In</h2>
      <p>Enter admin credentials to access the portal</p>
      <div class="admin-error" id="adminError">Invalid username or password.</div>
      <div class="a-form-group" style="margin-top:8px">
        <label>Username</label>
        <input type="text" id="adminUser" placeholder="admin" onkeydown="if(event.key==='Enter')document.getElementById('adminPass').focus()"/>
      </div>
      <div class="a-form-group">
        <label>Password</label>
        <input type="password" id="adminPass" placeholder="••••••••" onkeydown="if(event.key==='Enter')adminLogin()"/>
      </div>
      <button class="btn-red btn-admin" style="width:100%;justify-content:center;margin-top:8px" onclick="adminLogin()">
        <i class="fas fa-lock"></i> Login to Admin
      </button>
      <div style="text-align:center;margin-top:20px">
        <button onclick="hideAdminPortal()" style="background:none;border:none;color:var(--muted);cursor:pointer;font-size:13px">← Back to Website</button>
      </div>
    </div>
  </div>

  <!-- Admin Dashboard (hidden until login) -->
  <div id="adminDashboard" style="display:none">
    <div class="admin-topbar">
      <div style="display:flex;align-items:center;gap:14px">
        <div class="logo-text" style="font-size:18px">JB <em>Venture</em></div>
        <span style="font-size:11px;color:var(--muted);letter-spacing:2px;text-transform:uppercase">Admin Portal</span>
      </div>
      <div class="admin-topbar-r">
        <div style="font-size:13px;color:rgba(255,255,255,.5)">Welcome, <strong style="color:var(--yellow)">Admin</strong></div>
        <button class="btn-ash btn-admin" onclick="adminLogout()"><i class="fas fa-sign-out-alt"></i><span> Logout</span></button>
        <button class="btn-ash btn-admin" onclick="hideAdminPortal()"><i class="fas fa-globe"></i><span> View Site</span></button>
      </div>
    </div>
    <div class="admin-body">
      <!-- Sidebar -->
      <div class="admin-sidebar">
        <div class="admin-nav-item active" onclick="showPanel('dashboard',this)"><i class="fas fa-tachometer-alt"></i><span>Dashboard</span></div>
        <div class="admin-nav-item" onclick="showPanel('projects',this)"><i class="fas fa-hard-hat"></i><span>Realtime Projects</span></div>
        <div class="admin-nav-item" onclick="showPanel('users',this)"><i class="fas fa-users"></i><span>Visitors</span></div>
        <div class="admin-nav-item" onclick="showPanel('messages',this)"><i class="fas fa-envelope"></i><span>Messages</span></div>
        <div class="admin-nav-item" onclick="showPanel('settings',this)"><i class="fas fa-cog"></i><span>Settings</span></div>
      </div>

      <!-- Content Area -->
      <div class="admin-content">

        <!-- Dashboard -->
        <div class="admin-panel active" id="panel-dashboard">
          <div class="panel-title">Dashboard</div>
          <div class="panel-sub">Overview of JB Venture website performance</div>
          <div class="stats-grid">
            <div class="stat-card"><div class="val" id="dashProjects">0</div><div class="lbl">Total Projects</div><i class="fas fa-hard-hat"></i></div>
            <div class="stat-card"><div class="val" id="dashUsers">0</div><div class="lbl">Registered Users</div><i class="fas fa-users"></i></div>
            <div class="stat-card"><div class="val" id="dashMessages">0</div><div class="lbl">Messages</div><i class="fas fa-envelope"></i></div>
            <div class="stat-card"><div class="val">21+</div><div class="lbl">Active Sites</div><i class="fas fa-map-marker-alt"></i></div>
          </div>
          <div class="admin-card">
            <div class="admin-card-head"><h4>Recent Activity</h4></div>
            <div class="admin-card-body" id="recentActivity" style="font-size:13.5px;color:var(--muted);line-height:2">
              Loading activity...
            </div>
          </div>
        </div>

        <!-- Projects Panel -->
        <div class="admin-panel" id="panel-projects">
          <div class="panel-title">Realtime Projects</div>
          <div class="panel-sub">Manage projects displayed on the website — changes appear live</div>

          <div class="admin-card" style="margin-bottom:24px">
            <div class="admin-card-head"><h4>Add New Project</h4></div>
            <div class="admin-card-body">
              <div style="display:grid;grid-template-columns:1fr 1fr;gap:16px">
                <div class="a-form-group">
                  <label>Project Title</label>
                  <input type="text" id="projTitle" placeholder="e.g. Modern Villa"/>
                </div>
                <div class="a-form-group">
                  <label>Category</label>
                  <select id="projCategory" style="width:100%;padding:12px;background:var(--ash2);border:1px solid var(--border);color:var(--white);border-radius:3px;font-family:'DM Sans',sans-serif;font-size:14px;outline:none">
                    <option>Residential</option>
                    <option>Commercial</option>
                    <option>Architecture</option>
                    <option>Interior</option>
                    <option>Industrial</option>
                    <option>Renovation</option>
                  </select>
                </div>
              </div>
              <div class="a-form-group">
                <label>Description</label>
                <textarea id="projDesc" placeholder="Brief project description..."></textarea>
              </div>
              <div class="a-form-group">
                <label>Image URL (or upload below)</label>
                <input type="text" id="projImgUrl" placeholder="https://... or paste image URL (or upload below)"/>
              </div>
              <div class="upload-zone" id="uploadZone" onclick="document.getElementById('projFile').click()">
                <i class="fas fa-cloud-upload-alt"></i>
                <p>Click to upload project image (JPG, PNG, WebP)</p>
                <p style="font-size:12px;margin-top:6px;color:rgba(255,255,255,.3)">Max size: 5MB</p>
              </div>
              <input type="file" id="projFile" accept="image/*" style="display:none" onchange="handleFileUpload(this)"/>
              <div id="uploadPreview" style="margin-top:12px;display:none">
                <img id="previewImg" style="max-height:120px;border-radius:4px;border:1px solid var(--border)"/>
                <span id="previewName" style="font-size:12px;color:var(--muted);margin-left:10px;vertical-align:middle"></span>
              </div>
              <div style="display:flex;gap:12px;margin-top:16px">
                <button class="btn-red btn-admin" onclick="addProject()"><i class="fas fa-plus"></i>Add Project</button>
                <button class="btn-ash btn-admin" onclick="clearProjectForm()"><i class="fas fa-times"></i>Clear</button>
              </div>
            </div>
          </div>

          <div class="admin-card">
            <div class="admin-card-head">
              <h4>All Projects</h4>
              <button class="btn-ash btn-admin" style="padding:7px 14px;font-size:12px" onclick="loadProjects()"><i class="fas fa-sync"></i> Refresh</button>
            </div>
            <div class="admin-card-body" style="padding:0">
              <table class="proj-table">
                <thead><tr><th>Image</th><th>Title</th><th>Category</th><th>Description</th><th>Status</th><th>Action</th></tr></thead>
                <tbody id="projectsTableBody"><tr><td colspan="6" data-label="" style="text-align:center;padding:32px;color:var(--muted)">No projects yet. Add your first project above.</td></tr></tbody>
              </table>
            </div>
          </div>
        </div>

        <!-- Users Panel -->
        <div class="admin-panel" id="panel-users">
          <div class="panel-title">Registered Visitors</div>
          <div class="panel-sub">Users who signed in to the website via Google or Microsoft</div>
          <div class="admin-card">
            <div class="admin-card-head"><h4>All Users</h4><button class="btn-ash btn-admin" style="padding:7px 14px;font-size:12px" onclick="loadUsers()"><i class="fas fa-sync"></i> Refresh</button></div>
            <div class="admin-card-body" style="padding:0">
              <table class="user-table">
                <thead><tr><th>Name</th><th>Email</th><th>Phone</th><th>Country</th><th>Provider</th><th>Joined</th></tr></thead>
                <tbody id="usersTableBody"><tr><td colspan="6" data-label="" style="text-align:center;padding:32px;color:var(--muted)">Loading users...</td></tr></tbody>
              </table>
            </div>
          </div>
        </div>

        <!-- Messages Panel -->
        <div class="admin-panel" id="panel-messages">
          <div class="panel-title">Contact Messages</div>
          <div class="panel-sub">Messages submitted through the contact form</div>
          <div class="admin-card">
            <div class="admin-card-head"><h4>All Messages</h4><button class="btn-ash btn-admin" style="padding:7px 14px;font-size:12px" onclick="loadMessages()"><i class="fas fa-sync"></i> Refresh</button></div>
            <div class="admin-card-body" id="messagesBody" style="font-size:13.5px;color:var(--muted)">Loading messages...</div>
          </div>
        </div>

        <!-- Settings Panel -->
        <div class="admin-panel" id="panel-settings">
          <div class="panel-title">Settings</div>
          <div class="panel-sub">Admin credentials and website configuration</div>
          <div class="admin-card">
            <div class="admin-card-head"><h4>Admin Credentials</h4></div>
            <div class="admin-card-body">
              <p style="color:var(--muted);font-size:13.5px;margin-bottom:20px">Default credentials: <strong style="color:var(--yellow)">admin</strong> / <strong style="color:var(--yellow)">jbventure2025</strong></p>
              <div class="a-form-group"><label>Current Password</label><input type="password" id="currPass" placeholder="Current password"/></div>
              <div class="a-form-group"><label>New Password</label><input type="password" id="newPass" placeholder="New password"/></div>
              <button class="btn-red btn-admin" onclick="changePassword()"><i class="fas fa-key"></i>Update Password</button>
            </div>
          </div>
          <div class="admin-card">
            <div class="admin-card-head"><h4>Firebase Configuration</h4></div>
            <div class="admin-card-body">
              <p style="color:var(--muted);font-size:13.5px;line-height:1.8">To enable Firebase features (real-time projects, user management, message storage), update the <code style="background:var(--ash2);padding:2px 6px;border-radius:2px;color:var(--yellow)">firebaseConfig</code> object at the top of this HTML file with your Firebase project credentials.</p>
              <p style="color:var(--muted);font-size:13px;margin-top:12px">Go to <a href="https://console.firebase.google.com" target="_blank" style="color:var(--red)">console.firebase.google.com</a> → Create project → Add Web App → Copy config.</p>
            </div>
          </div>
        </div>

      </div><!-- /admin-content -->
    </div><!-- /admin-body -->
  </div><!-- /adminDashboard -->
</div><!-- /admin-wrap -->

<!-- ══════ TOAST ══════ -->
<div class="toast" id="toast"></div>

<!-- ══════ JAVASCRIPT ══════ -->
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
/* ═══════════════════════════════════════════════════════
   JB VENTURE — COMPLETE FIXED JS
   All buttons verified & working
═══════════════════════════════════════════════════════ */

/* ─── ADMIN CREDENTIALS ─── */
const ADMIN_USER = 'admin';
let adminPassCurrent = 'jbventure2025';
let adminLoggedIn = false;

/* ─── STATE ─── */
let currentUser = null;
let localProjects = [
  {id:'p1',title:'Modern Villa, Thoothukudi',category:'Residential',desc:'4BHK duplex with rooftop garden',img:'https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?w=600&q=70',status:'Active'},
  {id:'p2',title:'Office Complex',category:'Commercial',desc:'2,400 sq ft premium workspace',img:'https://images.unsplash.com/photo-1486325212027-8081e485255e?w=600&q=70',status:'Active'},
  {id:'p3',title:'Heritage Bungalow Restoration',category:'Architecture',desc:'Colonial-era restoration project',img:'https://images.unsplash.com/photo-1564013799919-ab600027ffc6?w=600&q=70',status:'Completed'},
  {id:'p4',title:'Factory Complex',category:'Industrial',desc:'12,000 sq ft manufacturing unit',img:'https://images.unsplash.com/photo-1572120360610-d971b9d7767c?w=600&q=70',status:'Active'},
  {id:'p5',title:'Luxury Penthouse',category:'Interior',desc:'Full interior design & execution',img:'https://images.unsplash.com/photo-1512917774080-9991f1c4c750?w=600&q=70',status:'Active'},
];
let localUsers = [];
let localMessages = [];
let uploadedFileData = null;

/* ─── FIREBASE helper ─── */
function getFirebase(){ return window._fb || null; }

/* ─── TOAST ─── */
function toast(msg, type='ok'){
  const t = document.getElementById('toast');
  if(!t) return;
  t.textContent = msg;
  t.style.borderColor = type==='warn'?'var(--yellow)':type==='error'?'var(--red)':'rgba(46,213,115,0.5)';
  t.style.color = type==='warn'?'var(--yellow)':type==='error'?'#e74c3c':'var(--white)';
  t.classList.add('on');
  setTimeout(() => t.classList.remove('on'), 3500);
}

/* ─── UTILS ─── */
function mNavToggle(){
  document.getElementById('mNav').classList.toggle('on');
}
function togFloat(){
  document.getElementById('floatItems').classList.toggle('on');
  document.getElementById('fTog').classList.toggle('on');
}

/* ─── SCROLL ANIMATIONS ─── */
function runAnim(){
  document.querySelectorAll('.fi,.fl,.fr').forEach(el => {
    if(el.getBoundingClientRect().top < window.innerHeight - 60) el.classList.add('vis');
  });
}

let ctrRan = false;
function triggerCounters(){
  if(ctrRan) return;
  const el = document.querySelector('.hstat-num[data-t]');
  if(el && el.getBoundingClientRect().top < window.innerHeight){
    ctrRan = true;
    document.querySelectorAll('.hstat-num[data-t]').forEach(el => {
      const t = +el.dataset.t; let c = 0; const step = Math.max(1, t/50);
      const ti = setInterval(() => {
        c = Math.min(c + step, t);
        el.textContent = Math.round(c) + '+';
        if(c >= t) clearInterval(ti);
      }, 25);
    });
  }
}
window.addEventListener('scroll', () => {
  const s = window.scrollY;
  const total = document.body.scrollHeight - window.innerHeight;
  const bar = document.getElementById('scrollBar');
  if(bar) bar.style.width = (total > 0 ? (s/total)*100 : 0) + '%';
  const nav = document.getElementById('nav');
  if(nav) nav.classList.toggle('scrolled', s > 60);
  const btt = document.getElementById('btt');
  if(btt) btt.classList.toggle('show', s > 400);
  runAnim();
  triggerCounters();
});

/* ─── PAGE LOAD ─── */
window.addEventListener('load', () => {
  runAnim();
  loadProjectsToSite();
  // Trigger counter check in case stats are already visible
  setTimeout(triggerCounters, 800);

  // Attach overlay click-to-close (safe — element definitely exists by load time)
  const overlay = document.getElementById('authOverlay');
  if(overlay) overlay.addEventListener('click', e => { if(e.target === e.currentTarget) closeLogin(); });

  // Firebase auth listener
  const fb = getFirebase();
  if(fb){
    fb.onAuthStateChanged(fb.auth, user => {
      if(user){
        currentUser = user;
        updateNavUser(user);
        saveUserToFirestore(user);
        // If sign-in page still showing, skip it
        const sp = document.getElementById('signInPage');
        if(sp && !sp.classList.contains('hidden')){
          sp.classList.add('exit');
          setTimeout(()=> sp.classList.add('hidden'), 520);
        }
      } else {
        currentUser = null;
        updateNavUser(null);
      }
    });
    loadProjectsFromFirebase();
  }
});

/* ─── NAV USER DISPLAY ─── */
function updateNavUser(user){
  const area = document.getElementById('navUserArea');
  if(!area) return;
  if(user){
    const avatar = user.photoURL
      ? `<img src="${user.photoURL}" style="width:30px;height:30px;border-radius:50%;object-fit:cover" onerror="this.style.display='none'">`
      : `<span style="font-size:13px;font-weight:700">${(user.displayName||'U').charAt(0).toUpperCase()}</span>`;
    area.innerHTML = `
      <div class="user-pill" onclick="showUserMenu()">
        <div class="user-av">${avatar}</div>
        <div class="user-name">${user.displayName || user.email || 'User'}</div>
        <i class="fas fa-chevron-down" style="font-size:10px;color:var(--muted);margin-left:4px"></i>
      </div>`;
  } else {
    area.innerHTML = `<button class="btn-login" onclick="openLogin()"><i class="fas fa-user"></i> Sign In</button>`;
  }
}

function showUserMenu(){
  const fb = getFirebase();
  if(!currentUser) return;
  if(confirm('Signed in as: ' + (currentUser.displayName || currentUser.email) + '\n\nClick OK to sign out.')){
    if(fb) fb.signOut(fb.auth).then(() => {
      currentUser = null;
      updateNavUser(null);
      toast('Signed out successfully');
    });
  }
}

/* ─── FIRESTORE SAVE ─── */
async function saveUserToFirestore(user, extra={}){
  const fb = getFirebase();
  if(!fb || !user) return;
  try{
    await fb.setDoc(fb.doc(fb.db,'users',user.uid), {
      name: user.displayName || '',
      email: user.email || '',
      photoURL: user.photoURL || '',
      provider: user.providerData?.[0]?.providerId || 'google',
      joinedAt: fb.serverTimestamp(),
      ...extra
    }, {merge:true});
  } catch(e){ console.warn('Firestore save failed:', e.message); }
}

/* ═══════════════════════════════════════════
   SIGN-IN PAGE (full-page, shown first)
═══════════════════════════════════════════ */

function enterWebsite(){
  const page = document.getElementById('signInPage');
  if(!page) return;
  page.classList.add('exit');
  setTimeout(() => page.classList.add('hidden'), 520);
}

function showSigninError(msg){
  const el = document.getElementById('signinError');
  if(!el) return;
  el.innerHTML = '<i class="fas fa-exclamation-circle"></i> ' + msg;
  el.style.display = 'block';
  setTimeout(() => { el.style.display = 'none'; }, 6000);
}

function showSigninSuccess(name, email){
  const forms = document.getElementById('signinForms');
  const errEl = document.getElementById('signinError');
  const s = document.getElementById('signinSuccess');
  if(forms) forms.style.display = 'none';
  if(errEl) errEl.style.display = 'none';
  if(!s) return;
  s.style.display = 'block';
  const countryEl = document.getElementById('signinCountry');
  const phoneEl = document.getElementById('signinPhone');
  const phone = (countryEl ? countryEl.value : '') + (phoneEl ? phoneEl.value.replace(/\D/g,'') : '');
  const nameEl = document.getElementById('signinSuccessName');
  const emailEl = document.getElementById('signinSuccessEmail');
  if(nameEl) nameEl.textContent = '✓ Welcome, ' + name + '!';
  if(emailEl) emailEl.innerHTML =
    (email ? '<div style="color:var(--muted);font-size:13px">' + email + '</div>' : '') +
    (phone.length > 4 ? '<div style="color:#2ed573;font-size:12px;margin-top:4px"><i class="fas fa-phone" style="margin-right:4px"></i>' + phone + '</div>' : '');
  setTimeout(() => enterWebsite(), 2500);
}

function updatePhoneBtn(){
  const phoneEl = document.getElementById('signinPhone');
  if(!phoneEl) return;
  const val = phoneEl.value.replace(/\D/g,'');
  const tick = document.getElementById('signinPhoneTick');
  const badge = document.getElementById('step2Badge');
  if(val.length >= 8){
    if(tick) tick.style.display = 'block';
    phoneEl.style.borderColor = 'rgba(46,213,115,.6)';
    if(badge){ badge.style.background='var(--red)'; badge.style.color='white'; badge.style.border='none'; }
  } else {
    if(tick) tick.style.display = 'none';
    phoneEl.style.borderColor = '';
    if(badge){ badge.style.background='var(--ash3)'; badge.style.color='rgba(255,255,255,.5)'; badge.style.border='1px solid rgba(192,57,43,0.3)'; }
  }
}

/* ── Continue with Google (sign-in page) — collects phone + Google together ── */
async function signinWithGoogle(){
  const phoneEl = document.getElementById('signinPhone');
  const countryEl = document.getElementById('signinCountry');
  const phone = phoneEl ? phoneEl.value.replace(/\D/g,'') : '';

  // Validate phone first
  if(phone.length < 8){
    if(phoneEl){ phoneEl.focus(); phoneEl.style.borderColor = 'rgba(192,57,43,.8)'; }
    showSigninError('⚠️ Please enter your phone number first (Step 1)');
    return;
  }

  if(window.location.protocol === 'file:'){
    showSigninError('⚠️ Open via a web server (http://), not file://');
    return;
  }

  const fb = getFirebase();
  if(!fb){
    // Demo mode — no Firebase configured, just proceed
    showSigninSuccess('Guest', '');
    return;
  }

  const btn = document.getElementById('signinGoogleBtn');
  const txt = document.getElementById('signinGoogleText');
  const spin = document.getElementById('signinGoogleSpinner');
  if(btn) btn.disabled = true;
  if(txt) txt.textContent = 'Signing in…';
  if(spin) spin.style.display = 'inline';

  try{
    const provider = new fb.GoogleAuthProvider();
    provider.addScope('email');
    provider.addScope('profile');
    const result = await fb.signInWithPopup(fb.auth, provider);
    const user = result.user;
    const country = countryEl ? countryEl.value : '+91';

    await saveUserToFirestore(user, {
      phone: country + phone,
      country,
      signInMethod: 'google+phone'
    });

    showSigninSuccess(user.displayName || 'User', user.email || '');
    toast('Welcome, ' + (user.displayName || 'User') + '! 🏗️');
  } catch(e){
    if(btn) btn.disabled = false;
    if(txt) txt.textContent = 'Continue with Google';
    if(spin) spin.style.display = 'none';
    const code = e.code || '';
    if(code === 'auth/popup-closed-by-user' || code === 'auth/cancelled-popup-request') return;
    if(code.includes('api-key-not-valid')) showSigninError('⚠️ Firebase API key invalid. Check your config.');
    else if(code === 'auth/popup-blocked') showSigninError('🚫 Popup blocked — please allow popups in your browser settings.');
    else if(code === 'auth/unauthorized-domain') showSigninError('🚫 Unauthorized domain. Add this domain in Firebase → Auth → Authorized Domains.');
    else showSigninError('Sign in failed: ' + (e.message || code));
  }
}

/* ═══════════════════════════════════════════
   SECONDARY AUTH MODAL (navbar Sign In button)
═══════════════════════════════════════════ */

function openLogin(){
  // Reset the modal
  const success = document.getElementById('loginSuccess');
  const btn = document.getElementById('googleSignInBtn');
  const phoneRow = document.getElementById('loginPhone');
  const tick = document.getElementById('phoneTick');
  const hint = document.getElementById('phoneHint');
  const err = document.getElementById('authModalError');
  if(success) success.style.display = 'none';
  if(btn){ btn.style.display = 'flex'; btn.disabled = false; }
  const gt = document.getElementById('googleBtnText'); if(gt) gt.textContent = 'Continue with Google';
  const gs = document.getElementById('googleBtnSpinner'); if(gs) gs.style.display = 'none';
  if(phoneRow){ phoneRow.value = ''; phoneRow.style.borderColor = 'var(--border)'; }
  if(tick) tick.style.display = 'none';
  if(hint) hint.innerHTML = 'Enter your phone number to continue';
  if(err) err.style.display = 'none';
  const overlay = document.getElementById('authOverlay');
  if(overlay) overlay.classList.add('on');
}

function closeLogin(){
  const overlay = document.getElementById('authOverlay');
  if(overlay) overlay.classList.remove('on');
}

/* Phone tick validation for the modal */
function validatePhone(input){
  const val = input.value.replace(/\D/g,'');
  const tick = document.getElementById('phoneTick');
  const hint = document.getElementById('phoneHint');
  if(val.length >= 8){
    input.style.borderColor = '#2ed573';
    if(tick) tick.style.display = 'block';
    if(hint) hint.innerHTML = '<span style="color:#2ed573">✓ Phone number looks good!</span>';
  } else {
    input.style.borderColor = 'var(--border)';
    if(tick) tick.style.display = 'none';
    if(hint) hint.innerHTML = '<span style="color:var(--muted)">Enter your phone number to continue</span>';
  }
}

function showAuthError(msg){
  const el = document.getElementById('authModalError');
  if(el){ el.innerHTML = '<i class="fas fa-exclamation-circle"></i> ' + msg; el.style.display = 'block'; }
  setTimeout(() => { if(el) el.style.display = 'none'; }, 6000);
}

/* Google sign-in from the navbar modal */
async function signInGoogle(){
  const fb = getFirebase();
  if(window.location.protocol === 'file:'){ showAuthError('⚠️ Open via Live Server (http://), not file://'); return; }

  const phoneInput = document.getElementById('loginPhone');
  const countrySelect = document.getElementById('loginCountry');
  const phone = phoneInput ? phoneInput.value.replace(/\D/g,'') : '';
  const country = countrySelect ? countrySelect.value : '+91';

  if(phone.length < 8){
    if(phoneInput){ phoneInput.style.borderColor = 'var(--red)'; phoneInput.focus(); }
    const hint = document.getElementById('phoneHint');
    if(hint) hint.innerHTML = '<span style="color:var(--red)">⚠ Please enter your phone number first</span>';
    return;
  }

  if(!fb){ showAuthError('Firebase not initialised'); return; }

  const btn = document.getElementById('googleSignInBtn');
  const btnText = document.getElementById('googleBtnText');
  const spinner = document.getElementById('googleBtnSpinner');
  if(btn) btn.disabled = true;
  if(btnText) btnText.textContent = 'Signing in…';
  if(spinner) spinner.style.display = 'inline';

  try{
    const provider = new fb.GoogleAuthProvider();
    provider.addScope('email'); provider.addScope('profile');
    const result = await fb.signInWithPopup(fb.auth, provider);
    const user = result.user;

    await saveUserToFirestore(user, { phone: country + phone, country });

    // Show success inside modal
    const ls = document.getElementById('loginSuccess');
    const sn = document.getElementById('successName');
    const se = document.getElementById('successEmail');
    if(ls) ls.style.display = 'block';
    if(sn) sn.textContent = '✓ Welcome, ' + (user.displayName || 'User') + '!';
    if(se) se.textContent = user.email || '';
    if(btn) btn.style.display = 'none';
    if(phoneInput && phoneInput.parentElement && phoneInput.parentElement.parentElement)
      phoneInput.parentElement.parentElement.style.display = 'none';
    const hint = document.getElementById('phoneHint'); if(hint) hint.innerHTML = '';

    toast('Welcome, ' + (user.displayName || 'User') + '! 🎉');
    setTimeout(() => closeLogin(), 2000);

  } catch(e){
    if(btn){ btn.disabled = false; btn.style.display = 'flex'; }
    if(btnText) btnText.textContent = 'Continue with Google';
    if(spinner) spinner.style.display = 'none';
    const code = e.code || '';
    if(code === 'auth/popup-closed-by-user' || code === 'auth/cancelled-popup-request') return;
    if(code.includes('api-key-not-valid')) showAuthError('⚠️ Firebase API key invalid');
    else if(code === 'auth/popup-blocked') showAuthError('🚫 Popup blocked! Allow popups for this site.');
    else if(code === 'auth/unauthorized-domain') showAuthError('🚫 Add this domain in Firebase → Auth → Authorized Domains');
    else showAuthError('Sign in failed: ' + (e.message || code));
  }
}

/* ═══════════════════════════════════════════
   ADMIN PORTAL
═══════════════════════════════════════════ */

function showAdminPortal(e){
  if(e && e.preventDefault) e.preventDefault();
  const portal = document.getElementById('adminPortal');
  if(!portal) return;
  portal.classList.add('on');
  if(!adminLoggedIn){
    const ls = document.getElementById('adminLoginScreen');
    const db = document.getElementById('adminDashboard');
    const au = document.getElementById('adminUser');
    const ap = document.getElementById('adminPass');
    const err = document.getElementById('adminError');
    if(ls) ls.style.display = 'flex';
    if(db) db.style.display = 'none';
    if(au) au.value = '';
    if(ap) ap.value = '';
    if(err) err.style.display = 'none';
  } else {
    // Already logged in — show dashboard directly
    const ls = document.getElementById('adminLoginScreen');
    const db = document.getElementById('adminDashboard');
    if(ls) ls.style.display = 'none';
    if(db){ db.style.display=''; db.classList.add('shown'); }
  }
}

function hideAdminPortal(){
  const portal = document.getElementById('adminPortal');
  if(portal) portal.classList.remove('on');
}

function adminLogin(){
  const u = document.getElementById('adminUser');
  const p = document.getElementById('adminPass');
  const err = document.getElementById('adminError');
  if(!u || !p) return;
  if(u.value.trim() === ADMIN_USER && p.value === adminPassCurrent){
    if(err) err.style.display = 'none';
    adminLoggedIn = true;
    const ls = document.getElementById('adminLoginScreen');
    const db = document.getElementById('adminDashboard');
    if(ls) ls.style.display = 'none';
    if(db){ db.style.display=''; db.classList.add('shown'); }
    loadDashboardStats();
    loadProjectsTable();
    loadUsers();
    loadMessages();
  } else {
    if(err) err.style.display = 'block';
    p.value = '';
    p.focus();
  }
}

function adminLogout(){
  adminLoggedIn = false;
  const ls = document.getElementById('adminLoginScreen');
  const db = document.getElementById('adminDashboard');
  const au = document.getElementById('adminUser');
  const ap = document.getElementById('adminPass');
  if(db){ db.style.display='none'; db.classList.remove('shown'); }
  if(ls) ls.style.display = 'flex';
  if(au) au.value = '';
  if(ap) ap.value = '';
}

function showPanel(name, el){
  document.querySelectorAll('.admin-panel').forEach(p => p.classList.remove('active'));
  document.querySelectorAll('.admin-nav-item').forEach(n => n.classList.remove('active'));
  const panel = document.getElementById('panel-' + name);
  if(panel) panel.classList.add('active');
  if(el) el.classList.add('active');
  if(name === 'projects') loadProjectsTable();
  if(name === 'users') loadUsers();
  if(name === 'messages') loadMessages();
  if(name === 'dashboard') loadDashboardStats();
}

function changePassword(){
  const curr = document.getElementById('currPass');
  const nw = document.getElementById('newPass');
  if(!curr || !nw) return;
  if(curr.value !== adminPassCurrent){ toast('Current password incorrect','warn'); return; }
  if(!nw.value || nw.value.length < 6){ toast('New password must be at least 6 characters','warn'); return; }
  adminPassCurrent = nw.value;
  curr.value = ''; nw.value = '';
  const hint = document.querySelector('#panel-settings .admin-card-body p');
  if(hint) hint.innerHTML = 'Default credentials: <strong style="color:var(--yellow)">admin</strong> / <strong style="color:var(--yellow)">[updated — use your new password]</strong>';
  toast('Password updated! ✅');
}

/* ═══════════════════════════════════════════
   PROJECTS
═══════════════════════════════════════════ */

async function loadProjectsFromFirebase(){
  const fb = getFirebase();
  if(!fb) {
    console.log('Firebase not initialized yet');
    return;
  }
  try{
    const snap = await fb.getDocs(fb.collection(fb.db,'projects'));
    if(!snap.empty){
      localProjects = snap.docs.map(d => ({id: d.id, ...d.data()}));
      console.log('Loaded', localProjects.length, 'projects from Firebase');
      loadProjectsToSite();
    } else {
      console.log('No projects found in Firebase');
    }
  } catch(e){ 
    console.warn('Firebase projects load error:', e.message);
  }
}

function loadProjectsToSite(){
  const grid = document.getElementById('projectsGrid');
  if(!grid) {
    console.error('Projects grid element not found');
    return;
  }
  if(!localProjects.length){
    grid.innerHTML = '<p style="color:var(--muted);padding:40px;text-align:center;grid-column:1/-1">No projects yet.</p>';
    return;
  }
  
  grid.innerHTML = localProjects.map((p, i) => {
    const hasImg = p.img && p.img.trim().length > 0;
    return `
    <div class="proj-card ${i===0?'big':''} fi d${Math.min(i,5)}">
      <div class="proj-bg ${hasImg ? 'has-img' : ''}" style="background:linear-gradient(135deg,#1a0a0a,#2a1010);background-size:cover;background-position:center;"></div>
      <div class="proj-overlay">
        <div class="proj-cat">${p.category||''}</div>
        <h3>${p.title||''}</h3>
        <p>${p.desc||''}</p>
      </div>
    </div>`;
  }).join('');
  
  // Apply background images via JavaScript to handle complex URLs better
  grid.querySelectorAll('.proj-bg').forEach((el, idx) => {
    if(localProjects[idx] && localProjects[idx].img && localProjects[idx].img.trim()){
      try {
        el.style.backgroundImage = `url('${localProjects[idx].img}')`;
      } catch(e) {
        console.error('Error setting background image for project', idx, e);
      }
    }
  });
  runAnim();
}

function loadDashboardStats(){
  const dp = document.getElementById('dashProjects');
  const du = document.getElementById('dashUsers');
  const dm = document.getElementById('dashMessages');
  if(dp) dp.textContent = localProjects.length;
  if(du) du.textContent = localUsers.length;
  if(dm) dm.textContent = localMessages.length;
  const ra = document.getElementById('recentActivity');
  if(!ra) return;
  const items = [
    ...localProjects.slice(0,3).map(p=>`<div style="padding:8px 0;border-bottom:1px solid var(--border)">🏗️ <strong style="color:var(--white)">${p.title}</strong> <span class="badge badge-green" style="margin-left:8px">${p.status||'Active'}</span></div>`),
    ...localUsers.slice(0,3).map(u=>`<div style="padding:8px 0;border-bottom:1px solid var(--border)">👤 <strong style="color:var(--white)">${u.name||u.email||'User'}</strong> <span style="font-size:12px;color:var(--muted);margin-left:6px">${u.email||''}</span></div>`)
  ];
  ra.innerHTML = items.length ? items.join('') : '<div style="color:var(--muted);padding:12px 0">No recent activity yet.</div>';
}

function loadProjectsTable(){
  const tbody = document.getElementById('projectsTableBody');
  if(!tbody) return;
  if(!localProjects.length){
    tbody.innerHTML = '<tr><td colspan="6" style="text-align:center;padding:32px;color:var(--muted)">No projects yet. Add your first project above.</td></tr>';
    return;
  }
  tbody.innerHTML = localProjects.map(p => `
    <tr>
      <td data-label="Image">${p.img ? `<img src="${p.img}" class="proj-thumb" style="width:60px;height:40px;object-fit:cover;border-radius:3px" onerror="this.style.display='none'">` : '<span style="color:var(--muted)">—</span>'}</td>
      <td data-label="Title" style="font-weight:600;color:var(--white)">${p.title||''}</td>
      <td data-label="Category"><span class="badge badge-yellow">${p.category||''}</span></td>
      <td data-label="Description" style="max-width:180px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:var(--muted)">${p.desc||''}</td>
      <td data-label="Status"><span class="badge ${p.status==='Completed'?'badge-yellow':'badge-green'}">${p.status||'Active'}</span></td>
      <td data-label="Action"><button class="btn-admin btn-ash" onclick="deleteProject('${p.id}')" style="padding:6px 10px;font-size:11px" title="Delete"><i class="fas fa-trash"></i></button></td>
    </tr>`).join('');
}

async function addProject(){
  const titleEl = document.getElementById('projTitle');
  const categoryEl = document.getElementById('projCategory');
  const descEl = document.getElementById('projDesc');
  const imgUrlEl = document.getElementById('projImgUrl');
  const title = titleEl ? titleEl.value.trim() : '';
  const category = categoryEl ? categoryEl.value : 'Residential';
  const desc = descEl ? descEl.value.trim() : '';
  const imgData = uploadedFileData || (imgUrlEl ? imgUrlEl.value.trim() : '');
  if(!title){ toast('Please enter a project title','warn'); return; }

  const proj = { id:'p'+Date.now(), title, category, desc, img:imgData, status:'Active', createdAt:new Date().toISOString() };
  const fb = getFirebase();
  if(fb){
    try{
      const ref = await fb.addDoc(fb.collection(fb.db,'projects'), proj);
      proj.id = ref.id;
      toast('Project saved to Firebase! ✅');
    } catch(e){
      console.warn(e.message);
      toast('Saved locally (Firebase: ' + e.message + ')','warn');
    }
  } else {
    toast('Project added locally ✅');
  }
  localProjects.unshift(proj);
  loadProjectsToSite();
  loadProjectsTable();
  loadDashboardStats();
  clearProjectForm();
}

async function deleteProject(id){
  if(!confirm('Delete this project from the website?')) return;
  const fb = getFirebase();
  if(fb){
    try{ await fb.deleteDoc(fb.doc(fb.db,'projects',id)); } catch(e){ console.warn(e.message); }
  }
  localProjects = localProjects.filter(p => p.id !== id);
  loadProjectsToSite();
  loadProjectsTable();
  loadDashboardStats();
  toast('Project deleted.');
}

function clearProjectForm(){
  ['projTitle','projDesc','projImgUrl'].forEach(id => {
    const el = document.getElementById(id); if(el) el.value = '';
  });
  const preview = document.getElementById('uploadPreview');
  if(preview) preview.style.display = 'none';
  uploadedFileData = null;
}

function handleFileUpload(input){
  const file = input.files[0];
  if(!file) return;
  if(file.size > 4*1024*1024){ toast('File too large. Use image under 4MB.','warn'); return; }
  const reader = new FileReader();
  reader.onload = e => {
    const img = new Image();
    img.onload = () => {
      const canvas = document.createElement('canvas');
      const MAX = 800;
      let w = img.width, h = img.height;
      if(w > MAX){ h = Math.round(h*MAX/w); w = MAX; }
      canvas.width = w; canvas.height = h;
      canvas.getContext('2d').drawImage(img, 0, 0, w, h);
      const compressed = canvas.toDataURL('image/jpeg', 0.75);
      uploadedFileData = compressed;
      const pi = document.getElementById('previewImg'); if(pi) pi.src = compressed;
      const pn = document.getElementById('previewName'); if(pn) pn.textContent = file.name;
      const kb = Math.round((compressed.length * 0.75) / 1024);
      const pu = document.getElementById('uploadPreview'); if(pu) pu.style.display = 'block';
      toast(kb > 900 ? 'Image large after compression. Try a smaller one.' : 'Image ready! (~' + kb + ' KB)');
    };
    img.src = e.target.result;
  };
  reader.readAsDataURL(file);
}

async function loadProjects(){
  await loadProjectsFromFirebase();
  toast('Projects refreshed');
}

/* ═══════════════════════════════════════════
   USERS & MESSAGES
═══════════════════════════════════════════ */

async function loadUsers(){
  const fb = getFirebase();
  const tbody = document.getElementById('usersTableBody');
  if(!tbody) return;
  if(!fb){ tbody.innerHTML='<tr><td colspan="6" style="text-align:center;padding:32px;color:var(--muted)">Firebase not configured</td></tr>'; return; }
  try{
    const snap = await fb.getDocs(fb.collection(fb.db,'users'));
    localUsers = snap.docs.map(d => ({id:d.id,...d.data()}));
    const dashEl = document.getElementById('dashUsers');
    if(dashEl) dashEl.textContent = localUsers.length;
    tbody.innerHTML = localUsers.length ? localUsers.map(u=>`
      <tr>
        <td data-label="Name" style="font-weight:600;color:var(--white)">${u.name||'—'}</td>
        <td data-label="Email" style="color:rgba(255,255,255,.6)">${u.email||'—'}</td>
        <td data-label="Phone">${u.phone||'<span style="color:var(--muted)">Not provided</span>'}</td>
        <td data-label="Country">${u.country||'—'}</td>
        <td data-label="Provider"><span class="badge badge-yellow">Google</span></td>
        <td data-label="Joined" style="color:var(--muted);font-size:12px">${u.joinedAt?.toDate?.()?.toLocaleDateString('en-IN')||'—'}</td>
      </tr>`).join('')
    : '<tr><td colspan="6" style="text-align:center;padding:32px;color:var(--muted)">No users signed in yet.</td></tr>';
  } catch(e){ tbody.innerHTML='<tr><td colspan="6" style="text-align:center;padding:32px;color:#e74c3c">Error: '+e.message+'</td></tr>'; }
}

async function loadMessages(){
  const fb = getFirebase();
  const body = document.getElementById('messagesBody');
  if(!body) return;
  if(!fb){ body.innerHTML='<p style="padding:20px;color:var(--muted)">Firebase not configured</p>'; return; }
  try{
    const snap = await fb.getDocs(fb.collection(fb.db,'messages'));
    localMessages = snap.docs.map(d => ({id:d.id,...d.data()}));
    const dashEl = document.getElementById('dashMessages');
    if(dashEl) dashEl.textContent = localMessages.length;
    body.innerHTML = localMessages.length ? localMessages.map(m=>`
      <div style="padding:20px;border-bottom:1px solid var(--border)">
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;flex-wrap:wrap;gap:8px">
          <strong style="color:var(--white);font-size:15px">${m.name||'Unknown'}</strong>
          <span style="font-size:11px;color:var(--yellow);background:rgba(241,196,15,0.1);padding:3px 10px;border-radius:20px;border:1px solid rgba(241,196,15,0.2)">${m.service||'General'}</span>
        </div>
        <div style="font-size:13px;color:var(--muted);margin-bottom:8px">
          <i class="fas fa-envelope" style="color:var(--red);margin-right:6px"></i>${m.email||''}
          ${m.phone?`<span style="margin-left:14px"><i class="fas fa-phone" style="color:var(--red);margin-right:6px"></i>${m.phone}</span>`:''}
        </div>
        <div style="font-size:14px;color:rgba(255,255,255,.7);line-height:1.6">${m.message||''}</div>
      </div>`).join('')
    : '<p style="text-align:center;padding:40px;color:var(--muted)">No messages yet.</p>';
  } catch(e){ body.innerHTML='<p style="padding:20px;color:#e74c3c">Error: '+e.message+'</p>'; }
}

/* ═══════════════════════════════════════════
   CONTACT FORM
═══════════════════════════════════════════ */

async function submitContact(btn){
  // Walk up from button to find the contact section
  const section = document.getElementById('contact');
  if(!section){ toast('Form not found','error'); return; }
  const nameEl = section.querySelector('input[type=text]');
  const phoneEl = section.querySelector('input[type=tel]');
  const emailEl = section.querySelector('input[type=email]');
  const serviceEl = section.querySelector('select');
  const msgEl = section.querySelector('textarea');
  const name = nameEl ? nameEl.value.trim() : '';
  const phone = phoneEl ? phoneEl.value.trim() : '';
  const email = emailEl ? emailEl.value.trim() : '';
  const service = serviceEl ? serviceEl.value : '';
  const message = msgEl ? msgEl.value.trim() : '';
  if(!name || !phone || !email){ toast('Please fill all required fields','warn'); return; }
  if(!/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(email)){ toast('Please enter a valid email address','warn'); return; }
  if(service === 'Select service...'){ toast('Please select a service','warn'); return; }

  // Disable button during send
  btn.disabled = true;
  btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Sending…';

  const fb = getFirebase();
  if(fb){
    try{
      await fb.addDoc(fb.collection(fb.db,'messages'), {name,phone,email,service,message,createdAt:fb.serverTimestamp()});
    } catch(e){ console.warn('Message save failed:', e.message); }
  }
  localMessages.push({name,phone,email,service,message});
  toast('Message sent! We will contact you soon. 🏗️');
  [nameEl,phoneEl,emailEl,msgEl].forEach(el => { if(el) el.value = ''; });
  if(serviceEl) serviceEl.selectedIndex = 0;
  btn.disabled = false;
  btn.innerHTML = '<i class="fas fa-paper-plane"></i>Send Message';
}

/* ═══════════════════════════════════════════
   NEWSLETTER
═══════════════════════════════════════════ */

function nlSub(btn){
  const input = btn.previousElementSibling;
  if(!input || !input.value.trim()){ toast('Please enter your email address','warn'); return; }
  if(!/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(input.value.trim())){ toast('Please enter a valid email address','warn'); return; }
  const fb = getFirebase();
  if(fb){
    fb.addDoc(fb.collection(fb.db,'newsletter'), { email: input.value.trim(), subscribedAt: fb.serverTimestamp() })
      .catch(e => console.warn('Newsletter save:', e.message));
  }
  toast('Thank you for subscribing! 🏗️');
  input.value = '';
}

</script>
</body>
</html>
